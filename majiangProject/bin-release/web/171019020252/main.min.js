var __reflect=this&&this.__reflect||function(t,e,r){t.__class__=e,r?r.push(e):r=[e],t.__types__=t.__types__?r.concat(t.__types__):r},__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},proto;!function(t){var e=function(){function e(){this.commands={},this.commands[t.MessageType.s_LoginAccount]=this.do_s_LoginAccount,this.commands[t.MessageType.s_Kickout]=this.do_s_Kickout,this.commands[t.MessageType.s_CreateRoom]=this.do_s_CreateRoom,this.commands[t.MessageType.s_EnterRoom]=this.do_s_EnterRoom,this.commands[t.MessageType.s_LeaveRoom]=this.do_s_LeaveRoom,this.commands[t.MessageType.s_RaiseHands]=this.do_s_RaiseHands,this.commands[t.MessageType.s_AttrChange]=this.do_s_AttrChange,this.commands[t.MessageType.s_NotifyEnterTable]=this.do_s_NotifyEnterTable,this.commands[t.MessageType.s_NotifyLeaveTable]=this.do_s_NotifyLeaveTable,this.commands[t.MessageType.s_NotifyHandCards]=this.do_s_NotifyHandCards,this.commands[t.MessageType.s_NotifyDealCard]=this.do_s_NotifyDealCard,this.commands[t.MessageType.s_NotifyPlayCard]=this.do_s_NotifyPlayCard,this.commands[t.MessageType.s_NotifyPlayResponse]=this.do_s_NotifyPlayResponse,this.commands[t.MessageType.s_NotifyChangeOpUser]=this.do_s_NotifyChangeOpUser,this.commands[t.MessageType.s_NotifyEndHandCards]=this.do_s_NotifyEndHandCards,this.commands[t.MessageType.s_DrawCardResponse]=this.do_s_DrawCardResponse,this.commands[t.MessageType.s_PlayCard]=this.do_s_PlayCard,this.commands[t.MessageType.s_PlayCardResponse]=this.do_s_PlayCardResponse}return e.prototype.do_s_LoginAccount=function(t){},e.prototype.do_s_Kickout=function(t){},e.prototype.do_s_CreateRoom=function(t){},e.prototype.do_s_EnterRoom=function(t){},e.prototype.do_s_LeaveRoom=function(t){},e.prototype.do_s_RaiseHands=function(t){},e.prototype.do_s_AttrChange=function(t){},e.prototype.do_s_NotifyEnterTable=function(t){},e.prototype.do_s_NotifyLeaveTable=function(t){},e.prototype.do_s_NotifyHandCards=function(t){},e.prototype.do_s_NotifyDealCard=function(t){},e.prototype.do_s_NotifyPlayCard=function(t){},e.prototype.do_s_NotifyPlayResponse=function(t){},e.prototype.do_s_NotifyChangeOpUser=function(t){},e.prototype.do_s_NotifyEndHandCards=function(t){},e.prototype.do_s_DrawCardResponse=function(t){},e.prototype.do_s_PlayCard=function(t){},e.prototype.do_s_PlayCardResponse=function(t){},e}();t.MessageHandle=e,__reflect(e.prototype,"proto.MessageHandle")}(proto||(proto={}));var BaseEuiView=function(t){function e(e,r){var o=t.call(this)||this;return o._resources=null,o._controller=e,o._myParent=r,o._isInit=!1,o.percentHeight=100,o.percentWidth=100,o}return __extends(e,t),Object.defineProperty(e.prototype,"myParent",{get:function(){return this._myParent},enumerable:!0,configurable:!0}),e.prototype.setResources=function(t){this._resources=t},e.prototype.isInit=function(){return this._isInit},e.prototype.applyFunc=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this._controller.applyFunc.apply(this._controller,arguments)},e.prototype.applyControllerFunc=function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return this._controller.applyControllerFunc.apply(this._controller,arguments)},e.prototype.isShow=function(){return null!=this.stage&&this.visible},e.prototype.addToParent=function(){this._myParent.addChild(this)},e.prototype.removeFromParent=function(){this.parent.removeChild(this)},e.prototype.initUI=function(){this._isInit=!0},e.prototype.initData=function(){},e.prototype.destroy=function(){this._controller=null,this._myParent=null,this._resources=null},e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.loadResource=function(t,e){this._resources&&this._resources.length>0?this.once(eui.UIEvent.CREATION_COMPLETE,e,this):(t(),e())},e.prototype.setVisible=function(t){this.visible=t},e}(eui.Component);__reflect(BaseEuiView.prototype,"BaseEuiView",["IBaseView"]);var BaseEuiLayer=function(t){function e(){var e=t.call(this)||this;return e.percentWidth=100,e.percentHeight=100,e.touchEnabled=!1,e}return __extends(e,t),e}(eui.Group);__reflect(BaseEuiLayer.prototype,"BaseEuiLayer");var BaseScene=function(){function t(){this._layers=new Array}return t.prototype.onEnter=function(){},t.prototype.onExit=function(){App.ViewManager.closeAll(),this.removeAllLayer()},t.prototype.addLayer=function(t){t instanceof BaseSpriteLayer?(App.StageUtils.getStage().addChild(t),this._layers.push(t)):t instanceof BaseEuiLayer&&(App.StageUtils.getUIStage().addChild(t),this._layers.push(t))},t.prototype.addLayerAt=function(t,e){t instanceof BaseSpriteLayer?(App.StageUtils.getStage().addChildAt(t,e),this._layers.push(t)):t instanceof BaseEuiLayer&&(App.StageUtils.getUIStage().addChildAt(t,e),this._layers.push(t))},t.prototype.removeLayer=function(t){t instanceof BaseSpriteLayer?(App.StageUtils.getStage().removeChild(t),this._layers.splice(this._layers.indexOf(t),1)):t instanceof BaseEuiLayer&&(App.StageUtils.getUIStage().removeChild(t),this._layers.splice(this._layers.indexOf(t),1))},t.prototype.layerRemoveAllChild=function(t){t instanceof BaseSpriteLayer?t.removeChildren():t instanceof BaseEuiLayer&&t.removeChildren()},t.prototype.removeAllLayer=function(){for(;this._layers.length;){var t=this._layers[0];this.layerRemoveAllChild(t),this.removeLayer(t)}},t}();__reflect(BaseScene.prototype,"BaseScene");var BaseSpriteLayer=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!1,e}return __extends(e,t),e}(egret.DisplayObjectContainer);__reflect(BaseSpriteLayer.prototype,"BaseSpriteLayer");var BaseClass=function(){function t(){}return t.getInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this;if(!r._instance){var o=t.length;0==o?r._instance=new r:1==o?r._instance=new r(t[0]):2==o?r._instance=new r(t[0],t[1]):3==o?r._instance=new r(t[0],t[1],t[2]):4==o?r._instance=new r(t[0],t[1],t[2],t[3]):5==o&&(r._instance=new r(t[0],t[1],t[2],t[3],t[4]))}return r._instance},t}();__reflect(BaseClass.prototype,"BaseClass");var proto;!function(t){var e=function(){function t(){this.S=0}return t.prototype.encode=function(t){},t.prototype.decode=function(t){},t}();t.Pro=e,__reflect(e.prototype,"proto.Pro")}(proto||(proto={}));var BaseController=function(){function t(){this._messages={}}return t.prototype.registerFunc=function(t,e,r){this._messages[t]=[e,r]},t.prototype.applyFunc=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=this._messages[t];return o?o[0].apply(o[1],e):(console.log("消息"+t+"不存在侦听"),null)},t.prototype.applyControllerFunc=function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return App.ControllerManager.applyFunc.apply(App.ControllerManager,arguments)},t.prototype.setModel=function(t){this._model=t},t.prototype.getModel=function(){return this._model},t.prototype.getControllerModel=function(t){return App.ControllerManager.getControllerModel(t)},t}();__reflect(BaseController.prototype,"BaseController");var BaseModel=function(){function t(t){this._controller=t,this._controller.setModel(this)}return t}();__reflect(BaseModel.prototype,"BaseModel");var BaseProxy=function(){function t(t){this._controller=t,this.receiveServerMsg(LoginConsts.KICK_OUT_S2C,this.kickOut,this)}return t.prototype.kickOut=function(t){this.applyFunc(LoginConsts.KICK_OUT_S2C,t)},t.prototype.applyFunc=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this._controller.applyFunc.apply(this._controller,arguments)},t.prototype.applyControllerFunc=function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return this._controller.applyControllerFunc.apply(this._controller,arguments)},t.prototype.receiveServerMsg=function(t,e,r){App.MessageCenter.addListener(t,e,r)},t.prototype.receiveServerMsgOnce=function(t,e,r){var o=function(n){this.removeServerMsg(t,o,this),e.apply(r,n)};this.receiveServerMsg(t,o,this)},t.prototype.receiveServerHttpUpdateMsg=function(t,e,r){this.receiveServerMsg(t+"_HttpUpdate",e,r)},t.prototype.receiveServerHttpUpdateMsgOnce=function(t,e,r){this.receiveServerMsgOnce(t+"_HttpUpdate",e,r)},t.prototype.removeServerMsg=function(t,e,r){},t.prototype.removeServerHttpUpdateMsg=function(t,e,r){this.removeServerMsg(t+"_HttpUpdate",e,r)},t.prototype.sendSocketMsg=function(t){SocketManager.getInstance().sendProto(t)},t.prototype.sendHttpMsg=function(t,e){void 0===e&&(e=null)},t.prototype.getURLVariables=function(t,e){var r=t.split("."),o={};o.mod=r[0],o["do"]=r[1],null!=e&&(o.p=e);var n=JSON.stringify(o),i=new egret.URLVariables("data="+n+"&h="+App.ProxyUserFlag);return i},t}();__reflect(BaseProxy.prototype,"BaseProxy");var PopCreateRoom=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.countsAny=[8,16],o.counts=0,o.skinName="PopCreateRoomSkin",o}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this);var e=new eui.RadioButtonGroup;this.radioBtnOne.group=e,this.radioBtnTwo.group=e,this.radioBtnOne.selected=!0,this.counts=8,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this),e.addEventListener(eui.UIEvent.CHANGE,this.radioChangeHandler,this)},e.prototype.open=function(t){this.x=(this.myParent.width>>1)-(this.measuredWidth>>1),this.y=(this.myParent.height>>1)-(this.measuredHeight>>1),this.baseScore.m_count=0,this.rewardTop.m_count=0},e.prototype.close=function(t){},e.prototype.radioChangeHandler=function(t){var e=t.target,r=e.selection,o=this.radioGroup.getChildIndex(r);this.counts=this.countsAny[o],alert(this.counts)},e.prototype.onTouchHandler=function(t){switch(t.target){case this.btnClose:App.ViewManager.close(ViewConst.Create);break;case this.buttonSure:if(!this.baseScore.m_count)return void alert("请设置底分");if(!this.rewardTop.m_count)return void alert("请设置封顶");App.ViewManager.close(ViewConst.Create),DataCenter.playerCount=2;var e={basicScore:this.baseScore.m_count,times:this.rewardTop.m_count,playerCount:2};this.applyControllerFunc(ControllerConst.START_CONTROLLER,StartConsts.CREATE_ROOM_C2S,e)}},e}(BaseEuiView);__reflect(PopCreateRoom.prototype,"PopCreateRoom");var MyButton=function(t){function e(){var e=t.call(this)||this;return e.skinName="MyButtonSkin",e}return __extends(e,t),e.prototype.dataChanged=function(){this.num.text=this.data.num},e}(eui.ItemRenderer);__reflect(MyButton.prototype,"MyButton");var MyHSlider=function(t){function e(){var e=t.call(this)||this;return e.skinName="MyHSliderSkin",e}return __extends(e,t),e}(eui.HSlider);__reflect(MyHSlider.prototype,"MyHSlider");var PlayerRoleInfo=function(t){function e(){var e=t.call(this)||this;return e.skinName="RoleInfoSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.infoGroup.visible=!1},e.prototype.setRoleInfo=function(t){this.infoGroup.visible=!0,this.leaveLabel.visible=!1,this.userId=t.userId,this.playerName.text=t.nick,this.playerCardNum.text=t.cardCount+""},e.prototype.showLeave=function(){this.infoGroup.visible=!1,this.leaveLabel.visible=!0},e}(eui.Component);__reflect(PlayerRoleInfo.prototype,"PlayerRoleInfo");var TimeComponent=function(t){function e(){var e=t.call(this)||this;return e.seatFocusGroup={},e.skinName="TimeComponentSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.seatFocusGroup[data.Seat.East]=this.seat_101,this.seatFocusGroup[data.Seat.South]=this.seat_102,this.seatFocusGroup[data.Seat.West]=this.seat_103,this.seatFocusGroup[data.Seat.North]=this.seat_104,this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerCom,this),this.initFocus()},e.prototype.onTimer=function(t){var e=this;this.count-=1,egret.Tween.get(this.curFocus).to({alpha:0},400).to({alpha:1},400).call(function(){egret.Tween.removeTweens(e.curFocus)},this),this.count<0&&(this.count=0),this.time.text=this.count+""},e.prototype.onTimerCom=function(t){this.callBack&&this.arg&&(this.timer.stop(),this.callBack.call(this.arg))},e.prototype.initFocus=function(){for(var t in this.seatFocusGroup)this.seatFocusGroup[t].visible=!1},e.prototype.setFocus=function(t,e,r,o){this.curFocus&&(this.curFocus.visible=!1),this.count=e,this.callBack=r,this.arg=o,this.seatFocusGroup[t].visible=!0,this.curFocus=this.seatFocusGroup[t],this.timer.start(),this.timer.repeatCount=e,this.time.text=e+""},e.prototype.initialize=function(){this.initFocus(),this.timer.stop(),this.curFocus=null,this.callBack=null,this.count=0,this.arg=null},e}(eui.Component);__reflect(TimeComponent.prototype,"TimeComponent");var Config=function(){function t(){}return t.curWidth=function(){return egret.MainContext.instance.stage.stageWidth},t.curHeight=function(){return egret.MainContext.instance.stage.stageHeight},t.curStage=function(){return egret.MainContext.instance.stage},t}();Config.gameHost="111.231.114.223",Config.gamePort=5005,Config.THMVERSION="0.0.1",Config.RESVERSION="0.0.1",Config.waitTime=60,Config.username="g42",Config.password="greentea",Config.w_width=1280,Config.w_height=720,Config.w_tieldCard=38,Config.h_tieldCard=56,Config.w_tieldGroup=98,Config.h_tieldGroup=142,Config.w_handCard=88,Config.h_handCard=128,Config.x_handCard=96,Config.y_handCard=580,Config.bgSoundPercent=50,Config.soundEffectPercent=50,Config.path_card="../resource/assets/ui/card/",Config.audio_path="../resource/assets/audio/",Config.time_stamps=0,__reflect(Config.prototype,"Config");var DataCenter;!function(t){}(DataCenter||(DataCenter={}));var data;!function(t){var e;!function(t){t[t.None=0]="None",t[t.East=101]="East",t[t.South=102]="South",t[t.West=103]="West",t[t.North=104]="North"}(e=t.Seat||(t.Seat={}));var r;!function(t){t[t.Pass=0]="Pass",t[t.Chow=1]="Chow",t[t.Pong=2]="Pong",t[t.Kong=3]="Kong",t[t.Pi=4]="Pi",t[t.Lai=5]="Lai",t[t.Win=6]="Win"}(r=t.Option||(t.Option={}));var o;!function(t){t[t.Ready=0]="Ready",t[t.Start=1]="Start",t[t.WaitDraw=2]="WaitDraw",t[t.WaitPlay=3]="WaitPlay",t[t.WaitUser=4]="WaitUser",t[t.End=5]="End"}(o=t.TableState||(t.TableState={}));var n;!function(t){t[t.CardCount=0]="CardCount"}(n=t.PlayerAttr||(t.PlayerAttr={}))}(data||(data={}));var App=function(){function t(){}return Object.defineProperty(t,"ControllerManager",{get:function(){return ControllerManager.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ViewManager",{get:function(){return ViewManager.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"StageUtils",{get:function(){return StageUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SceneManager",{get:function(){return SceneManager.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ResourceUtils",{get:function(){return ResourceUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DisplayUtils",{get:function(){return DisplayUtils.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MessageCenter",{get:function(){return MessageCenter.getInstance()},enumerable:!0,configurable:!0}),t.Init=function(){},t}();App.ProxyUserFlag="",App.GlobalData=null,App.ProtoFile=null,App.ProtoConfig=null,__reflect(App.prototype,"App");var proto;!function(t){var e;!function(t){t[t.c_LoginAccount=100]="c_LoginAccount",t[t.s_LoginAccount=101]="s_LoginAccount",t[t.UserInfo=102]="UserInfo",t[t.UserInfoWithSeat=103]="UserInfoWithSeat",t[t.s_Kickout=104]="s_Kickout",t[t.IntList=105]="IntList",t[t.SeatCardInfo=106]="SeatCardInfo",t[t.c_CreateRoom=107]="c_CreateRoom",t[t.s_CreateRoom=108]="s_CreateRoom",t[t.c_EnterRoom=109]="c_EnterRoom",t[t.s_EnterRoom=110]="s_EnterRoom",t[t.c_LeaveRoom=111]="c_LeaveRoom",t[t.s_LeaveRoom=112]="s_LeaveRoom",t[t.c_RaiseHands=113]="c_RaiseHands",t[t.s_RaiseHands=114]="s_RaiseHands",t[t.AttrValue=115]="AttrValue",t[t.PointsInfo=116]="PointsInfo",t[t.SeatHandCards=117]="SeatHandCards",t[t.s_AttrChange=118]="s_AttrChange",t[t.s_NotifyEnterTable=119]="s_NotifyEnterTable",t[t.s_NotifyLeaveTable=120]="s_NotifyLeaveTable",t[t.s_NotifyHandCards=121]="s_NotifyHandCards",t[t.s_NotifyDealCard=122]="s_NotifyDealCard",t[t.s_NotifyPlayCard=123]="s_NotifyPlayCard",t[t.s_NotifyPlayResponse=124]="s_NotifyPlayResponse",t[t.s_NotifyChangeOpUser=125]="s_NotifyChangeOpUser",t[t.s_NotifyEndHandCards=126]="s_NotifyEndHandCards",t[t.c_DrawCardResponse=127]="c_DrawCardResponse",t[t.s_DrawCardResponse=128]="s_DrawCardResponse",t[t.c_PlayCard=129]="c_PlayCard",t[t.s_PlayCard=130]="s_PlayCard",t[t.c_PlayCardResponse=131]="c_PlayCardResponse",t[t.s_PlayCardResponse=132]="s_PlayCardResponse"}(e=t.MessageType||(t.MessageType={}))}(proto||(proto={}));var proto;!function(t){var e=function(){function e(){this.types={},this.typesByName={},this.typesByName.c_LoginAccount=this.types[100]=t.c_LoginAccount,this.typesByName.s_LoginAccount=this.types[101]=t.s_LoginAccount,this.typesByName.UserInfo=this.types[102]=t.UserInfo,this.typesByName.UserInfoWithSeat=this.types[103]=t.UserInfoWithSeat,this.typesByName.s_Kickout=this.types[104]=t.s_Kickout,this.typesByName.IntList=this.types[105]=t.IntList,this.typesByName.SeatCardInfo=this.types[106]=t.SeatCardInfo,this.typesByName.c_CreateRoom=this.types[107]=t.c_CreateRoom,this.typesByName.s_CreateRoom=this.types[108]=t.s_CreateRoom,this.typesByName.c_EnterRoom=this.types[109]=t.c_EnterRoom,this.typesByName.s_EnterRoom=this.types[110]=t.s_EnterRoom,this.typesByName.c_LeaveRoom=this.types[111]=t.c_LeaveRoom,this.typesByName.s_LeaveRoom=this.types[112]=t.s_LeaveRoom,this.typesByName.c_RaiseHands=this.types[113]=t.c_RaiseHands,this.typesByName.s_RaiseHands=this.types[114]=t.s_RaiseHands,this.typesByName.AttrValue=this.types[115]=t.AttrValue,this.typesByName.PointsInfo=this.types[116]=t.PointsInfo,this.typesByName.SeatHandCards=this.types[117]=t.SeatHandCards,this.typesByName.s_AttrChange=this.types[118]=t.s_AttrChange,this.typesByName.s_NotifyEnterTable=this.types[119]=t.s_NotifyEnterTable,this.typesByName.s_NotifyLeaveTable=this.types[120]=t.s_NotifyLeaveTable,this.typesByName.s_NotifyHandCards=this.types[121]=t.s_NotifyHandCards,this.typesByName.s_NotifyDealCard=this.types[122]=t.s_NotifyDealCard,this.typesByName.s_NotifyPlayCard=this.types[123]=t.s_NotifyPlayCard,this.typesByName.s_NotifyPlayResponse=this.types[124]=t.s_NotifyPlayResponse,this.typesByName.s_NotifyChangeOpUser=this.types[125]=t.s_NotifyChangeOpUser,this.typesByName.s_NotifyEndHandCards=this.types[126]=t.s_NotifyEndHandCards,this.typesByName.c_DrawCardResponse=this.types[127]=t.c_DrawCardResponse,this.typesByName.s_DrawCardResponse=this.types[128]=t.s_DrawCardResponse,this.typesByName.c_PlayCard=this.types[129]=t.c_PlayCard,this.typesByName.s_PlayCard=this.types[130]=t.s_PlayCard,this.typesByName.c_PlayCardResponse=this.types[131]=t.c_PlayCardResponse,this.typesByName.s_PlayCardResponse=this.types[132]=t.s_PlayCardResponse}return e}();t.messType=e,__reflect(e.prototype,"proto.messType")}(proto||(proto={}));var AddComponent=function(t){function e(){var e=t.call(this)||this;return e.count=0,e.skinName="AddComponentSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},e.prototype.onTouchTap=function(t){switch(t.target){case this.addBtn:this.count+=1,this.num.text=this.count+"";break;case this.reduceBtn:this.count>0&&(this.count-=1,this.num.text=this.count+"")}},Object.defineProperty(e.prototype,"m_count",{get:function(){return this.count},set:function(t){this.count=t,this.num.text=this.count+""},enumerable:!0,configurable:!0}),e}(eui.Component);__reflect(AddComponent.prototype,"AddComponent");var proto;!function(t){var e=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.c_LoginAccount,r}return __extends(r,e),r.prototype.init=function(t,e){return this.userName=t,this.password=e,this},r.prototype.encode=function(t){t.writeUTF(this.userName),t.writeUTF(this.password)},r.prototype.decode=function(t){this.userName=t.readUTF(),this.password=t.readUTF()},r}(t.Pro);t.c_LoginAccount=e,__reflect(e.prototype,"proto.c_LoginAccount");var r=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.s_LoginAccount,r}return __extends(r,e),r.prototype.init=function(t,e,r){return this.isSuccess=t,this.errMsg=e,this.userInfo=r,this},r.prototype.encode=function(t){t.writeBoolean(this.isSuccess),null!=this.errMsg?(t.writeByte(1),t.writeUTF(this.errMsg)):t.writeByte(0),null!=this.userInfo?(t.writeByte(1),this.userInfo.encode(t)):t.writeByte(0)},r.prototype.decode=function(t){this.isSuccess=t.readBoolean(),t.readByte()>0&&(this.errMsg=t.readUTF()),t.readByte()>0&&(this.userInfo=new o,this.userInfo.decode(t))},r}(t.Pro);t.s_LoginAccount=r,__reflect(r.prototype,"proto.s_LoginAccount");var o=function(e){function r(){var r=e.call(this)||this;return r.userId=0,r.cardCount=0,r.S=t.MessageType.UserInfo,r}return __extends(r,e),r.prototype.init=function(t,e,r){return this.userId=t,this.nick=e,this.cardCount=r,this},r.prototype.encode=function(t){t.writeInt(this.userId),t.writeUTF(this.nick),t.writeInt(this.cardCount)},r.prototype.decode=function(t){this.userId=t.readInt(),this.nick=t.readUTF(),this.cardCount=t.readInt()},r}(t.Pro);t.UserInfo=o,__reflect(o.prototype,"proto.UserInfo");var n=function(e){function r(){var r=e.call(this)||this;return r.seat=0,r.S=t.MessageType.UserInfoWithSeat,r}return __extends(r,e),r.prototype.init=function(t,e){return this.seat=t,this.userInfo=e,this},r.prototype.encode=function(t){t.writeInt(this.seat),this.userInfo.encode(t)},r.prototype.decode=function(t){this.seat=t.readInt(),this.userInfo=new o,this.userInfo.decode(t)},r}(t.Pro);t.UserInfoWithSeat=n,__reflect(n.prototype,"proto.UserInfoWithSeat");var i=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.s_Kickout,r}return __extends(r,e),r.prototype.init=function(t){return this.reason=t,this},r.prototype.encode=function(t){t.writeUTF(this.reason)},r.prototype.decode=function(t){this.reason=t.readUTF()},r}(t.Pro);t.s_Kickout=i,__reflect(i.prototype,"proto.s_Kickout");var s=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.IntList,r}return __extends(r,e),r.prototype.init=function(t){return this.list=t,this},r.prototype.encode=function(t){if(null!=this.list){t.writeShort(this.list.length);for(var e=0;e<this.list.length;e++)t.writeInt(this.list[e])}else t.writeShort(0)},r.prototype.decode=function(t){var e=t.readShort();this.list=[];for(var r=0;e>r;r++)this.list[r]=t.readInt()},r}(t.Pro);t.IntList=s,__reflect(s.prototype,"proto.IntList");var a=function(e){function r(){var r=e.call(this)||this;return r.seat=0,r.S=t.MessageType.SeatCardInfo,r}return __extends(r,e),r.prototype.init=function(t,e,r){return this.seat=t,this.PongKongChow=e,this.playCards=r,this},r.prototype.encode=function(t){if(t.writeInt(this.seat),null!=this.PongKongChow){t.writeShort(this.PongKongChow.length);for(var e=0;e<this.PongKongChow.length;e++)this.PongKongChow[e].encode(t)}else t.writeShort(0);if(null!=this.playCards){t.writeShort(this.playCards.length);for(var e=0;e<this.playCards.length;e++)t.writeInt(this.playCards[e])}else t.writeShort(0)},r.prototype.decode=function(t){this.seat=t.readInt();var e=t.readShort();this.PongKongChow=[];for(var r=0;e>r;r++)this.PongKongChow[r]=new s,this.PongKongChow[r].decode(t);var o=t.readShort();this.playCards=[];for(var r=0;o>r;r++)this.playCards[r]=t.readInt()},r}(t.Pro);t.SeatCardInfo=a,__reflect(a.prototype,"proto.SeatCardInfo");var c=function(e){function r(){var r=e.call(this)||this;return r.basicScore=0,r.times=0,r.playerCount=0,r.S=t.MessageType.c_CreateRoom,r}return __extends(r,e),r.prototype.init=function(t,e,r,o){return this.basicScore=t,this.times=e,this.roomPassword=r,this.playerCount=o,this},r.prototype.encode=function(t){t.writeInt(this.basicScore),t.writeInt(this.times),t.writeUTF(this.roomPassword),t.writeInt(this.playerCount)},r.prototype.decode=function(t){this.basicScore=t.readInt(),this.times=t.readInt(),this.roomPassword=t.readUTF(),this.playerCount=t.readInt()},r}(t.Pro);t.c_CreateRoom=c,__reflect(c.prototype,"proto.c_CreateRoom");var h=function(e){function r(){var r=e.call(this)||this;return r.tableId=0,r.seat=0,r.S=t.MessageType.s_CreateRoom,r}return __extends(r,e),r.prototype.init=function(t,e,r,o,n){return this.isSuccess=t,this.errMsg=e,this.tableId=r,this.seat=o,this.userInfoList=n,this},r.prototype.encode=function(t){if(t.writeBoolean(this.isSuccess),null!=this.errMsg?(t.writeByte(1),t.writeUTF(this.errMsg)):t.writeByte(0),t.writeByte(1),t.writeInt(this.tableId),t.writeByte(1),t.writeInt(this.seat),null!=this.userInfoList){t.writeShort(this.userInfoList.length);for(var e=0;e<this.userInfoList.length;e++)this.userInfoList[e].encode(t)}else t.writeShort(0)},r.prototype.decode=function(t){this.isSuccess=t.readBoolean(),t.readByte()>0&&(this.errMsg=t.readUTF()),t.readByte()>0&&(this.tableId=t.readInt()),t.readByte()>0&&(this.seat=t.readInt());var e=t.readShort();this.userInfoList=[];for(var r=0;e>r;r++)this.userInfoList[r]=new n,this.userInfoList[r].decode(t)},r}(t.Pro);t.s_CreateRoom=h,__reflect(h.prototype,"proto.s_CreateRoom");var p=function(e){function r(){var r=e.call(this)||this;return r.tableId=0,r.S=t.MessageType.c_EnterRoom,r}return __extends(r,e),r.prototype.init=function(t,e){return this.tableId=t,this.roomPassword=e,this},r.prototype.encode=function(t){t.writeInt(this.tableId),t.writeUTF(this.roomPassword)},r.prototype.decode=function(t){this.tableId=t.readInt(),this.roomPassword=t.readUTF()},r}(t.Pro);t.c_EnterRoom=p,__reflect(p.prototype,"proto.c_EnterRoom");var u=function(e){function r(){var r=e.call(this)||this;return r.seat=0,r.playerCount=0,r.Dice1=0,r.Dice2=0,r.drawCard=0,r.S=t.MessageType.s_EnterRoom,r}return __extends(r,e),r.prototype.init=function(t,e,r,o,n,i,s,a,c,h){return this.isSuccess=t,this.errMsg=e,this.seat=r,this.playerCount=o,this.Dice1=n,this.Dice2=i,this.drawCard=s,this.HandsCard=a,this.seatCardInfoList=c,this.userInfoList=h,this},r.prototype.encode=function(t){if(t.writeBoolean(this.isSuccess),null!=this.errMsg?(t.writeByte(1),t.writeUTF(this.errMsg)):t.writeByte(0),t.writeByte(1),t.writeInt(this.seat),t.writeByte(1),t.writeInt(this.playerCount),t.writeByte(1),t.writeInt(this.Dice1),t.writeByte(1),t.writeInt(this.Dice2),t.writeByte(1),t.writeInt(this.drawCard),null!=this.HandsCard){t.writeShort(this.HandsCard.length);for(var e=0;e<this.HandsCard.length;e++)t.writeInt(this.HandsCard[e])}else t.writeShort(0);if(null!=this.seatCardInfoList){t.writeShort(this.seatCardInfoList.length);for(var e=0;e<this.seatCardInfoList.length;e++)this.seatCardInfoList[e].encode(t)}else t.writeShort(0);if(null!=this.userInfoList){t.writeShort(this.userInfoList.length);for(var e=0;e<this.userInfoList.length;e++)this.userInfoList[e].encode(t)}else t.writeShort(0)},r.prototype.decode=function(t){this.isSuccess=t.readBoolean(),t.readByte()>0&&(this.errMsg=t.readUTF()),t.readByte()>0&&(this.seat=t.readInt()),t.readByte()>0&&(this.playerCount=t.readInt()),t.readByte()>0&&(this.Dice1=t.readInt()),t.readByte()>0&&(this.Dice2=t.readInt()),t.readByte()>0&&(this.drawCard=t.readInt());var e=t.readShort();this.HandsCard=[];for(var r=0;e>r;r++)this.HandsCard[r]=t.readInt();var o=t.readShort();this.seatCardInfoList=[];for(var r=0;o>r;r++)this.seatCardInfoList[r]=new a,this.seatCardInfoList[r].decode(t);var i=t.readShort();this.userInfoList=[];for(var r=0;i>r;r++)this.userInfoList[r]=new n,this.userInfoList[r].decode(t)},r}(t.Pro);t.s_EnterRoom=u,__reflect(u.prototype,"proto.s_EnterRoom");var d=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.c_LeaveRoom,r}return __extends(r,e),r.prototype.init=function(){return this},r.prototype.encode=function(t){},r.prototype.decode=function(t){},r}(t.Pro);t.c_LeaveRoom=d,__reflect(d.prototype,"proto.c_LeaveRoom");var l=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.s_LeaveRoom,r}return __extends(r,e),r.prototype.init=function(t,e){return this.isSuccess=t,this.errMsg=e,this},r.prototype.encode=function(t){t.writeBoolean(this.isSuccess),null!=this.errMsg?(t.writeByte(1),t.writeUTF(this.errMsg)):t.writeByte(0)},r.prototype.decode=function(t){this.isSuccess=t.readBoolean(),t.readByte()>0&&(this.errMsg=t.readUTF())},r}(t.Pro);t.s_LeaveRoom=l,__reflect(l.prototype,"proto.s_LeaveRoom");var f=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.c_RaiseHands,r}return __extends(r,e),r.prototype.init=function(){return this},r.prototype.encode=function(t){},r.prototype.decode=function(t){},r}(t.Pro);t.c_RaiseHands=f,__reflect(f.prototype,"proto.c_RaiseHands");var y=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.s_RaiseHands,r}return __extends(r,e),r.prototype.init=function(t,e){return this.isSuccess=t,this.errMsg=e,this},r.prototype.encode=function(t){t.writeBoolean(this.isSuccess),null!=this.errMsg?(t.writeByte(1),t.writeUTF(this.errMsg)):t.writeByte(0)},r.prototype.decode=function(t){this.isSuccess=t.readBoolean(),t.readByte()>0&&(this.errMsg=t.readUTF())},r}(t.Pro);t.s_RaiseHands=y,__reflect(y.prototype,"proto.s_RaiseHands");var C=function(e){function r(){var r=e.call(this)||this;return r.attrId=0,r.value=0,r.S=t.MessageType.AttrValue,r}return __extends(r,e),r.prototype.init=function(t,e){return this.attrId=t,this.value=e,this},r.prototype.encode=function(t){t.writeInt(this.attrId),t.writeByte(1),t.writeInt(this.value)},r.prototype.decode=function(t){this.attrId=t.readInt(),t.readByte()>0&&(this.value=t.readInt())},r}(t.Pro);t.AttrValue=C,__reflect(C.prototype,"proto.AttrValue");var g=function(e){function r(){var r=e.call(this)||this;return r.gunnedUserSeat=0,r.S=t.MessageType.PointsInfo,r}return __extends(r,e),r.prototype.init=function(t,e,r,o,n,i,s,a,c){return this.isSeventPoint=t,this.isDrawPoint=e,this.isGunPoint=r,this.gunnedUserSeat=o,this.isDealerPoint=n,this.isEmptyForPKC=i,this.isSameColor=s,this.isPongWin=a,this.isTwoFiveEight=c,this},r.prototype.encode=function(t){t.writeByte(1),t.writeBoolean(this.isSeventPoint),t.writeByte(1),t.writeBoolean(this.isDrawPoint),t.writeByte(1),t.writeBoolean(this.isGunPoint),t.writeByte(1),t.writeInt(this.gunnedUserSeat),t.writeByte(1),t.writeBoolean(this.isDealerPoint),t.writeByte(1),t.writeBoolean(this.isEmptyForPKC),t.writeByte(1),t.writeBoolean(this.isSameColor),t.writeByte(1),t.writeBoolean(this.isPongWin),t.writeByte(1),t.writeBoolean(this.isTwoFiveEight)},r.prototype.decode=function(t){t.readByte()>0&&(this.isSeventPoint=t.readBoolean()),t.readByte()>0&&(this.isDrawPoint=t.readBoolean()),t.readByte()>0&&(this.isGunPoint=t.readBoolean()),t.readByte()>0&&(this.gunnedUserSeat=t.readInt()),t.readByte()>0&&(this.isDealerPoint=t.readBoolean()),t.readByte()>0&&(this.isEmptyForPKC=t.readBoolean()),t.readByte()>0&&(this.isSameColor=t.readBoolean()),t.readByte()>0&&(this.isPongWin=t.readBoolean()),t.readByte()>0&&(this.isTwoFiveEight=t.readBoolean())},r}(t.Pro);t.PointsInfo=g,__reflect(g.prototype,"proto.PointsInfo");var _=function(e){function r(){var r=e.call(this)||this;return r.seat=0,r.drawCard=0,r.scores=0,r.kongCount=0,r.anKongCount=0,r.S=t.MessageType.SeatHandCards,r}return __extends(r,e),r.prototype.init=function(t,e,r,o,n,i,s,a,c){return this.seat=t,this.handCards=e,this.drawCard=r,this.pongKongChow=o,this.playCards=n,this.pointsInfo=i,this.scores=s,this.kongCount=a,this.anKongCount=c,this},r.prototype.encode=function(t){if(t.writeByte(1),t.writeInt(this.seat),null!=this.handCards){t.writeShort(this.handCards.length);for(var e=0;e<this.handCards.length;e++)t.writeInt(this.handCards[e])}else t.writeShort(0);if(t.writeByte(1),t.writeInt(this.drawCard),null!=this.pongKongChow){t.writeShort(this.pongKongChow.length);for(var e=0;e<this.pongKongChow.length;e++)this.pongKongChow[e].encode(t)}else t.writeShort(0);if(null!=this.playCards){t.writeShort(this.playCards.length);
for(var e=0;e<this.playCards.length;e++)t.writeInt(this.playCards[e])}else t.writeShort(0);null!=this.pointsInfo?(t.writeByte(1),this.pointsInfo.encode(t)):t.writeByte(0),t.writeByte(1),t.writeInt(this.scores),t.writeByte(1),t.writeInt(this.kongCount),t.writeByte(1),t.writeInt(this.anKongCount)},r.prototype.decode=function(t){t.readByte()>0&&(this.seat=t.readInt());var e=t.readShort();this.handCards=[];for(var r=0;e>r;r++)this.handCards[r]=t.readInt();t.readByte()>0&&(this.drawCard=t.readInt());var o=t.readShort();this.pongKongChow=[];for(var r=0;o>r;r++)this.pongKongChow[r]=new s,this.pongKongChow[r].decode(t);var n=t.readShort();this.playCards=[];for(var r=0;n>r;r++)this.playCards[r]=t.readInt();t.readByte()>0&&(this.pointsInfo=new g,this.pointsInfo.decode(t)),t.readByte()>0&&(this.scores=t.readInt()),t.readByte()>0&&(this.kongCount=t.readInt()),t.readByte()>0&&(this.anKongCount=t.readInt())},r}(t.Pro);t.SeatHandCards=_,__reflect(_.prototype,"proto.SeatHandCards");var S=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.s_AttrChange,r}return __extends(r,e),r.prototype.init=function(t){return this.attrList=t,this},r.prototype.encode=function(t){if(null!=this.attrList){t.writeShort(this.attrList.length);for(var e=0;e<this.attrList.length;e++)this.attrList[e].encode(t)}else t.writeShort(0)},r.prototype.decode=function(t){var e=t.readShort();this.attrList=[];for(var r=0;e>r;r++)this.attrList[r]=new C,this.attrList[r].decode(t)},r}(t.Pro);t.s_AttrChange=S,__reflect(S.prototype,"proto.s_AttrChange");var m=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.s_NotifyEnterTable,r}return __extends(r,e),r.prototype.init=function(t){return this.userInfo=t,this},r.prototype.encode=function(t){this.userInfo.encode(t)},r.prototype.decode=function(t){this.userInfo=new n,this.userInfo.decode(t)},r}(t.Pro);t.s_NotifyEnterTable=m,__reflect(m.prototype,"proto.s_NotifyEnterTable");var v=function(e){function r(){var r=e.call(this)||this;return r.seat=0,r.S=t.MessageType.s_NotifyLeaveTable,r}return __extends(r,e),r.prototype.init=function(t){return this.seat=t,this},r.prototype.encode=function(t){t.writeInt(this.seat)},r.prototype.decode=function(t){this.seat=t.readInt()},r}(t.Pro);t.s_NotifyLeaveTable=v,__reflect(v.prototype,"proto.s_NotifyLeaveTable");var w=function(e){function r(){var r=e.call(this)||this;return r.dealer=0,r.dice1=0,r.dice2=0,r.laizi=0,r.pizi=0,r.S=t.MessageType.s_NotifyHandCards,r}return __extends(r,e),r.prototype.init=function(t,e,r,o,n,i){return this.dealer=t,this.dice1=e,this.dice2=r,this.laizi=o,this.pizi=n,this.handCards=i,this},r.prototype.encode=function(t){if(t.writeInt(this.dealer),t.writeByte(1),t.writeInt(this.dice1),t.writeByte(1),t.writeInt(this.dice2),t.writeByte(1),t.writeInt(this.laizi),t.writeByte(1),t.writeInt(this.pizi),null!=this.handCards){t.writeShort(this.handCards.length);for(var e=0;e<this.handCards.length;e++)t.writeInt(this.handCards[e])}else t.writeShort(0)},r.prototype.decode=function(t){this.dealer=t.readInt(),t.readByte()>0&&(this.dice1=t.readInt()),t.readByte()>0&&(this.dice2=t.readInt()),t.readByte()>0&&(this.laizi=t.readInt()),t.readByte()>0&&(this.pizi=t.readInt());var e=t.readShort();this.handCards=[];for(var r=0;e>r;r++)this.handCards[r]=t.readInt()},r}(t.Pro);t.s_NotifyHandCards=w,__reflect(w.prototype,"proto.s_NotifyHandCards");var R=function(e){function r(){var r=e.call(this)||this;return r.seat=0,r.drawCard=0,r.S=t.MessageType.s_NotifyDealCard,r}return __extends(r,e),r.prototype.init=function(t,e,r,o){return this.seat=t,this.drawCard=e,this.isWin=r,this.KongCards=o,this},r.prototype.encode=function(t){if(t.writeInt(this.seat),t.writeByte(1),t.writeInt(this.drawCard),t.writeByte(1),t.writeBoolean(this.isWin),null!=this.KongCards){t.writeShort(this.KongCards.length);for(var e=0;e<this.KongCards.length;e++)this.KongCards[e].encode(t)}else t.writeShort(0)},r.prototype.decode=function(t){this.seat=t.readInt(),t.readByte()>0&&(this.drawCard=t.readInt()),t.readByte()>0&&(this.isWin=t.readBoolean());var e=t.readShort();this.KongCards=[];for(var r=0;e>r;r++)this.KongCards[r]=new s,this.KongCards[r].decode(t)},r}(t.Pro);t.s_NotifyDealCard=R,__reflect(R.prototype,"proto.s_NotifyDealCard");var E=function(e){function r(){var r=e.call(this)||this;return r.seat=0,r.playCard=0,r.S=t.MessageType.s_NotifyPlayCard,r}return __extends(r,e),r.prototype.init=function(t,e,r,o){return this.seat=t,this.playCard=e,this.isWin=r,this.pongKongChow=o,this},r.prototype.encode=function(t){if(t.writeInt(this.seat),t.writeInt(this.playCard),t.writeByte(1),t.writeBoolean(this.isWin),null!=this.pongKongChow){t.writeShort(this.pongKongChow.length);for(var e=0;e<this.pongKongChow.length;e++)this.pongKongChow[e].encode(t)}else t.writeShort(0)},r.prototype.decode=function(t){this.seat=t.readInt(),this.playCard=t.readInt(),t.readByte()>0&&(this.isWin=t.readBoolean());var e=t.readShort();this.pongKongChow=[];for(var r=0;e>r;r++)this.pongKongChow[r]=new s,this.pongKongChow[r].decode(t)},r}(t.Pro);t.s_NotifyPlayCard=E,__reflect(E.prototype,"proto.s_NotifyPlayCard");var I=function(e){function r(){var r=e.call(this)||this;return r.seat=0,r.option=0,r.playCard=0,r.S=t.MessageType.s_NotifyPlayResponse,r}return __extends(r,e),r.prototype.init=function(t,e,r,o){return this.seat=t,this.option=e,this.playCard=r,this.pongKongChow=o,this},r.prototype.encode=function(t){if(t.writeInt(this.seat),t.writeInt(this.option),t.writeByte(1),t.writeInt(this.playCard),null!=this.pongKongChow){t.writeShort(this.pongKongChow.length);for(var e=0;e<this.pongKongChow.length;e++)t.writeInt(this.pongKongChow[e])}else t.writeShort(0)},r.prototype.decode=function(t){this.seat=t.readInt(),this.option=t.readInt(),t.readByte()>0&&(this.playCard=t.readInt());var e=t.readShort();this.pongKongChow=[];for(var r=0;e>r;r++)this.pongKongChow[r]=t.readInt()},r}(t.Pro);t.s_NotifyPlayResponse=I,__reflect(I.prototype,"proto.s_NotifyPlayResponse");var T=function(e){function r(){var r=e.call(this)||this;return r.seat=0,r.S=t.MessageType.s_NotifyChangeOpUser,r}return __extends(r,e),r.prototype.init=function(t){return this.seat=t,this},r.prototype.encode=function(t){t.writeInt(this.seat)},r.prototype.decode=function(t){this.seat=t.readInt()},r}(t.Pro);t.s_NotifyChangeOpUser=T,__reflect(T.prototype,"proto.s_NotifyChangeOpUser");var L=function(e){function r(){var r=e.call(this)||this;return r.winnerSeat=0,r.lastCard=0,r.S=t.MessageType.s_NotifyEndHandCards,r}return __extends(r,e),r.prototype.init=function(t,e,r){return this.winnerSeat=t,this.lastCard=e,this.seatHandCards=r,this},r.prototype.encode=function(t){if(t.writeByte(1),t.writeInt(this.winnerSeat),t.writeByte(1),t.writeInt(this.lastCard),null!=this.seatHandCards){t.writeShort(this.seatHandCards.length);for(var e=0;e<this.seatHandCards.length;e++)this.seatHandCards[e].encode(t)}else t.writeShort(0)},r.prototype.decode=function(t){t.readByte()>0&&(this.winnerSeat=t.readInt()),t.readByte()>0&&(this.lastCard=t.readInt());var e=t.readShort();this.seatHandCards=[];for(var r=0;e>r;r++)this.seatHandCards[r]=new _,this.seatHandCards[r].decode(t)},r}(t.Pro);t.s_NotifyEndHandCards=L,__reflect(L.prototype,"proto.s_NotifyEndHandCards");var P=function(e){function r(){var r=e.call(this)||this;return r.option=0,r.S=t.MessageType.c_DrawCardResponse,r}return __extends(r,e),r.prototype.init=function(t,e){return this.option=t,this.cardList=e,this},r.prototype.encode=function(t){if(t.writeInt(this.option),null!=this.cardList){t.writeShort(this.cardList.length);for(var e=0;e<this.cardList.length;e++)t.writeInt(this.cardList[e])}else t.writeShort(0)},r.prototype.decode=function(t){this.option=t.readInt();var e=t.readShort();this.cardList=[];for(var r=0;e>r;r++)this.cardList[r]=t.readInt()},r}(t.Pro);t.c_DrawCardResponse=P,__reflect(P.prototype,"proto.c_DrawCardResponse");var M=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.s_DrawCardResponse,r}return __extends(r,e),r.prototype.init=function(t,e){return this.isSuccess=t,this.errMsg=e,this},r.prototype.encode=function(t){t.writeBoolean(this.isSuccess),null!=this.errMsg?(t.writeByte(1),t.writeUTF(this.errMsg)):t.writeByte(0)},r.prototype.decode=function(t){this.isSuccess=t.readBoolean(),t.readByte()>0&&(this.errMsg=t.readUTF())},r}(t.Pro);t.s_DrawCardResponse=M,__reflect(M.prototype,"proto.s_DrawCardResponse");var A=function(e){function r(){var r=e.call(this)||this;return r.card=0,r.S=t.MessageType.c_PlayCard,r}return __extends(r,e),r.prototype.init=function(t){return this.card=t,this},r.prototype.encode=function(t){t.writeInt(this.card)},r.prototype.decode=function(t){this.card=t.readInt()},r}(t.Pro);t.c_PlayCard=A,__reflect(A.prototype,"proto.c_PlayCard");var N=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.s_PlayCard,r}return __extends(r,e),r.prototype.init=function(t,e){return this.isSuccess=t,this.errMsg=e,this},r.prototype.encode=function(t){t.writeBoolean(this.isSuccess),null!=this.errMsg?(t.writeByte(1),t.writeUTF(this.errMsg)):t.writeByte(0)},r.prototype.decode=function(t){this.isSuccess=t.readBoolean(),t.readByte()>0&&(this.errMsg=t.readUTF())},r}(t.Pro);t.s_PlayCard=N,__reflect(N.prototype,"proto.s_PlayCard");var O=function(e){function r(){var r=e.call(this)||this;return r.option=0,r.S=t.MessageType.c_PlayCardResponse,r}return __extends(r,e),r.prototype.init=function(t,e){return this.option=t,this.cardList=e,this},r.prototype.encode=function(t){if(t.writeInt(this.option),null!=this.cardList){t.writeShort(this.cardList.length);for(var e=0;e<this.cardList.length;e++)t.writeInt(this.cardList[e])}else t.writeShort(0)},r.prototype.decode=function(t){this.option=t.readInt();var e=t.readShort();this.cardList=[];for(var r=0;e>r;r++)this.cardList[r]=t.readInt()},r}(t.Pro);t.c_PlayCardResponse=O,__reflect(O.prototype,"proto.c_PlayCardResponse");var B=function(e){function r(){var r=e.call(this)||this;return r.S=t.MessageType.s_PlayCardResponse,r}return __extends(r,e),r.prototype.init=function(t,e){return this.isSuccess=t,this.errMsg=e,this},r.prototype.encode=function(t){t.writeBoolean(this.isSuccess),null!=this.errMsg?(t.writeByte(1),t.writeUTF(this.errMsg)):t.writeByte(0)},r.prototype.decode=function(t){this.isSuccess=t.readBoolean(),t.readByte()>0&&(this.errMsg=t.readUTF())},r}(t.Pro);t.s_PlayCardResponse=B,__reflect(B.prototype,"proto.s_PlayCardResponse")}(proto||(proto={}));var temple;!function(t){var e=function(){function t(){}return t.init=function(){RES.getResByUrl("resource/cfg/CardConfigTemple.txt",this.getFunc,this,RES.ResourceItem.TYPE_JSON)},t.getFunc=function(e){for(var r in e)t.temples[r]=e[r]},t.select=function(e){return t.temples[e]},t}();e.temples=[],t.TempleManager=e,__reflect(e.prototype,"temple.TempleManager")}(temple||(temple={}));var ControllerConst=function(){function t(){}return t}();ControllerConst.LOGIN_CONTROLLER=10001,ControllerConst.START_CONTROLLER=10002,ControllerConst.GAME_CONTROLLER=10003,ControllerConst.JOIN_ROOM=10004,ControllerConst.CREATE_ROOM=10005,ControllerConst.SYSTEM_SET=10006,ControllerConst.MY_SCORE=10007,__reflect(ControllerConst.prototype,"ControllerConst");var SceneConsts=function(){function t(){}return t}();SceneConsts.LOADING_SENCE=1e4,SceneConsts.UI_SENCE=10001,__reflect(SceneConsts.prototype,"SceneConsts");var ViewConst=function(){function t(){}return t}();ViewConst.Loading=1e4,ViewConst.Login=10001,ViewConst.Start=10002,ViewConst.Game=10003,ViewConst.Join=10004,ViewConst.Create=10005,ViewConst.SystemSet=10006,ViewConst.MyScore=10007,__reflect(ViewConst.prototype,"ViewConst");var lcp;!function(t){var e=function(t){function e(e,r,o,n){void 0===r&&(r=null),void 0===o&&(o=!1),void 0===n&&(n=!1);var i=t.call(this,e,o,n)||this;return i.CLASS_NAME="ChangeEvent",r&&(i._obj=r),i}return __extends(e,t),Object.defineProperty(e.prototype,"c_data",{get:function(){return this._obj},enumerable:!0,configurable:!0}),e}(egret.Event);t.ChangeEvent=e,__reflect(e.prototype,"lcp.ChangeEvent")}(lcp||(lcp={}));var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.startCreateScene=function(){var t=String;t.prototype.format=function(){for(var t=/\{[0-9]\}+/g,e=arguments,r=e[0],o=e[1],n=r.match(t),i=0;i<n.length;i++)try{r=r.replace(n[i],o[i])}catch(s){throw new Error("format 格式错误")}return r},Config.w_width=this.stage.stageWidth,Config.w_height=this.stage.stageHeight,temple.TempleManager.init(),this.initSence(),this.initMode(),App.SceneManager.runScene(SceneConsts.UI_SENCE),SocketManager.getInstance().connectServer(Config.gameHost,Config.gamePort)},e.prototype.initSence=function(){App.SceneManager.register(SceneConsts.LOADING_SENCE,new SenceLoading),App.SceneManager.register(SceneConsts.UI_SENCE,new UIScene)},e.prototype.initMode=function(){App.ControllerManager.register(ControllerConst.LOGIN_CONTROLLER,new LoginController),App.ControllerManager.register(ControllerConst.START_CONTROLLER,new StartController),App.ControllerManager.register(ControllerConst.GAME_CONTROLLER,new GameController),App.ControllerManager.register(ControllerConst.JOIN_ROOM,new PopJoinRoomController),App.ControllerManager.register(ControllerConst.CREATE_ROOM,new PopCreateRoomController),App.ControllerManager.register(ControllerConst.SYSTEM_SET,new PopSystemSetController),App.ControllerManager.register(ControllerConst.MY_SCORE,new PopMyScoreController)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var GameConsts=function(){function t(){}return t}();GameConsts.ENTERTABLE_S2C="game_10001",GameConsts.LEAVETABLE_S2C="game_10002",GameConsts.CURGAME_END_S2C="game_10003",GameConsts.OTHER_ENTERTABEL_S2C="game_10005",GameConsts.RAISEHANDS_S2C="game_10006",GameConsts.RAISEHANDS_C2S="game_10007",GameConsts.DRAWCARDRESPONSE_C2S="game_10008",GameConsts.DRAWCARDRESPONSE_S2C="game_10009",GameConsts.PLAYCARD_C2S="game_10010",GameConsts.PLAYCARD_S2C="game_10011",GameConsts.PLAYCARDRESPONSE_S2C="game_10012",GameConsts.PLAYCARDRESPONSE_C2S="game_10013",GameConsts.NOTIFY_HANDCARDS_S2C="game_10014",GameConsts.NOTIFY_DEALCARDS_S2C="game_10015",GameConsts.NOTIFY_PLAYCARDS_S2C="game_10016",GameConsts.NOTIFY_PLAYRESPONSE_S2C="game_10017",GameConsts.NOTIFY_CHANGEOPUSER_S2C="game_10018",__reflect(GameConsts.prototype,"GameConsts");var GameController=function(t){function e(){var e=t.call(this)||this;return e.gameModel=new GameModel(e),e.gameView=new ViewGame(e,LayerManager.UI_Main),App.ViewManager.register(ViewConst.Game,e.gameView),e.gameProxy=new GameProxy(e),e.registerFunc(GameConsts.ENTERTABLE_S2C,e.onEnterTable,e),e.registerFunc(GameConsts.LEAVETABLE_S2C,e.onLeaveTabel,e),e.registerFunc(GameConsts.CURGAME_END_S2C,e.curGameEnd,e),e.registerFunc(GameConsts.OTHER_ENTERTABEL_S2C,e.otherEnterTable,e),e.registerFunc(GameConsts.RAISEHANDS_S2C,e.onRaiseHandsRes,e),e.registerFunc(GameConsts.DRAWCARDRESPONSE_S2C,e.drawCardResponseRes,e),e.registerFunc(GameConsts.PLAYCARD_S2C,e.playCardRes,e),e.registerFunc(GameConsts.PLAYCARDRESPONSE_S2C,e.playCardResponseRes,e),e.registerFunc(GameConsts.NOTIFY_HANDCARDS_S2C,e.notifyHandCards,e),e.registerFunc(GameConsts.NOTIFY_DEALCARDS_S2C,e.notifyDealCards,e),e.registerFunc(GameConsts.NOTIFY_PLAYCARDS_S2C,e.notifyPlayCards,e),e.registerFunc(GameConsts.NOTIFY_PLAYRESPONSE_S2C,e.notifyPlayResponse,e),e.registerFunc(GameConsts.NOTIFY_CHANGEOPUSER_S2C,e.notifyChangeUser,e),e.registerFunc(GameConsts.RAISEHANDS_C2S,e.onRaiseHands,e),e.registerFunc(GameConsts.DRAWCARDRESPONSE_C2S,e.drawCardResponse,e),e.registerFunc(GameConsts.PLAYCARD_C2S,e.playCard,e),e.registerFunc(GameConsts.PLAYCARDRESPONSE_C2S,e.playCardResponse,e),e}return __extends(e,t),e.prototype.onRaiseHands=function(t){this.gameProxy.raiseHands(t)},e.prototype.drawCardResponse=function(t){this.gameProxy.drawCardResponse(t)},e.prototype.playCard=function(t){this.gameProxy.playCard(t)},e.prototype.playCardResponse=function(t){this.gameProxy.playCardResponse(t)},e.prototype.onEnterTable=function(t){this.gameView.createRoleInfo(t.userInfoList)},e.prototype.onLeaveTabel=function(t){this.gameView.leaveSeat(t.seat)},e.prototype.curGameEnd=function(t){this.gameView.curGameEnd(t)},e.prototype.otherEnterTable=function(t){this.gameView.createRoleInfo([t.userInfo])},e.prototype.onRaiseHandsRes=function(t){t.isSuccess?this.gameView.raiseHandSuccess():alert(t.errMsg)},e.prototype.drawCardResponseRes=function(t){},e.prototype.playCardRes=function(t){t.isSuccess?this.gameView.playCardSuccess():alert(t.errMsg)},e.prototype.playCardResponseRes=function(t){t.isSuccess?this.gameView.playCardResponse():alert(t.errMsg)},e.prototype.notifyHandCards=function(t){this.gameView.showGameState(t)},e.prototype.notifyDealCards=function(t){this.gameView.notifyDealCards(t)},e.prototype.notifyPlayCards=function(t){this.gameView.notifyPlayCard(t)},e.prototype.notifyPlayResponse=function(t){this.gameView.notifyPlayResponse(t)},e.prototype.notifyChangeUser=function(t){this.gameView.notifyChangeUser(t.seat)},e}(BaseController);__reflect(GameController.prototype,"GameController");var GameModel=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(BaseModel);__reflect(GameModel.prototype,"GameModel");var GameProxy=function(t){function e(e){var r=t.call(this,e)||this;return r.receiveServerMsg(GameConsts.ENTERTABLE_S2C,r.enterTable,r),r.receiveServerMsg(GameConsts.CURGAME_END_S2C,r.curGameEnd,r),r.receiveServerMsg(GameConsts.LEAVETABLE_S2C,r.leaveTable,r),r.receiveServerMsg(GameConsts.OTHER_ENTERTABEL_S2C,r.otherEnterTable,r),r.receiveServerMsg(GameConsts.RAISEHANDS_S2C,r.onRaiseHandsRes,r),r.receiveServerMsg(GameConsts.DRAWCARDRESPONSE_S2C,r.drawCardResponseRes,r),r.receiveServerMsg(GameConsts.PLAYCARD_S2C,r.playCardRes,r),r.receiveServerMsg(GameConsts.PLAYCARDRESPONSE_S2C,r.playCardResponseRes,r),r.receiveServerMsg(GameConsts.NOTIFY_HANDCARDS_S2C,r.notifyHandCards,r),r.receiveServerMsg(GameConsts.NOTIFY_DEALCARDS_S2C,r.notifyDealCards,r),r.receiveServerMsg(GameConsts.NOTIFY_PLAYCARDS_S2C,r.notifyPlayCards,r),r.receiveServerMsg(GameConsts.NOTIFY_PLAYRESPONSE_S2C,r.notifyPlayResponse,r),r.receiveServerMsg(GameConsts.NOTIFY_CHANGEOPUSER_S2C,r.notifyChangeUser,r),r}return __extends(e,t),e.prototype.raiseHands=function(t){var e=new proto.c_RaiseHands;this.sendSocketMsg(e)},e.prototype.drawCardResponse=function(t){var e=new proto.c_DrawCardResponse;e.cardList=t.cardList,e.option=t.option,this.sendSocketMsg(e)},e.prototype.playCard=function(t){var e=new proto.c_PlayCard;e.card=t,this.sendSocketMsg(e)},e.prototype.playCardResponse=function(t){var e=new proto.c_PlayCardResponse;t.cardList&&(e.cardList=t.cardList),e.option=t.option,this.sendSocketMsg(e)},e.prototype.enterTable=function(t){this.applyFunc(GameConsts.ENTERTABLE_S2C,t)},e.prototype.leaveTable=function(t){this.applyFunc(GameConsts.LEAVETABLE_S2C,t)},e.prototype.curGameEnd=function(t){this.applyFunc(GameConsts.CURGAME_END_S2C,t)},e.prototype.otherEnterTable=function(t){this.applyFunc(GameConsts.OTHER_ENTERTABEL_S2C,t)},e.prototype.onRaiseHandsRes=function(t){this.applyFunc(GameConsts.RAISEHANDS_S2C,t)},e.prototype.drawCardResponseRes=function(t){this.applyFunc(GameConsts.DRAWCARDRESPONSE_S2C,t)},e.prototype.playCardRes=function(t){this.applyFunc(GameConsts.PLAYCARD_S2C,t)},e.prototype.playCardResponseRes=function(t){this.applyFunc(GameConsts.PLAYCARDRESPONSE_S2C,t)},e.prototype.notifyHandCards=function(t){this.applyFunc(GameConsts.NOTIFY_HANDCARDS_S2C,t)},e.prototype.notifyDealCards=function(t){this.applyFunc(GameConsts.NOTIFY_DEALCARDS_S2C,t)},e.prototype.notifyPlayCards=function(t){this.applyFunc(GameConsts.NOTIFY_PLAYCARDS_S2C,t)},e.prototype.notifyPlayResponse=function(t){this.applyFunc(GameConsts.NOTIFY_PLAYRESPONSE_S2C,t)},e.prototype.notifyChangeUser=function(t){this.applyFunc(GameConsts.NOTIFY_CHANGEOPUSER_S2C,t)},e}(BaseProxy);__reflect(GameProxy.prototype,"GameProxy");var ViewGame=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.cardData=[],o.clickState=!1,o.cardGroupNum=4,o.getCardGroupTime=1e3,o.moveStep=100,o.TYPE_WAIT="wait",o.TYPE_GAME="game",o.curGameState=0,o.seatObj={},o.assetObj={},o.dachuObj={},o.relativeSeat={},o.initSeat=[data.Seat.South,data.Seat.North,data.Seat.West,data.Seat.East],o.cardobj=[],o.copyCardGather=[],o.initialized=!0,o.readyState=!1,o.skinName="ViewGameSkin",o}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this),this.northCollect=new eui.ArrayCollection,this.southCollect=new eui.ArrayCollection,this.westCollect=new eui.ArrayCollection,this.eastCollect=new eui.ArrayCollection,this.cardSprite=new egret.Sprite,this.bottomGroup.addChild(this.cardSprite),this.northList.itemRenderer=CardItem,this.northList.dataProvider=this.northCollect,this.southList.itemRenderer=CardItem,this.southList.dataProvider=this.southCollect,this.westList.itemRenderer=CardItem,this.westList.dataProvider=this.westCollect,this.eastList.itemRenderer=CardItem,this.eastList.dataProvider=this.eastCollect,this.seatObj[data.Seat.North]=this.topGroup,this.seatObj[data.Seat.East]=this.rightGroup,this.seatObj[data.Seat.South]=this.cardSprite,this.seatObj[data.Seat.West]=this.leftGroup,this.dachuObj[data.Seat.North]=this.northCollect,this.dachuObj[data.Seat.East]=this.eastCollect,this.dachuObj[data.Seat.West]=this.westCollect,this.assetObj[data.Seat.North]="shoupai_duijia_png",this.assetObj[data.Seat.East]="shoupai_you_png",this.assetObj[data.Seat.West]="shoupai_zuo_png",this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this),this.cardSprite.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCardItemTap,this),this.cardSprite.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onCardTouchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onCardTouchEnd,this)},e.prototype.initData=function(){t.prototype.initData.call(this),this.northCollect.source=[],this.westCollect.source=[],this.eastCollect.source=[],this.southCollect.source=[],this.cardData=[],this.curTarget=null,this.prevTarget=null,this.newCard=null,this.clickState=!1,this.leftHand.visible=!1,this.rightHand.visible=!1,this.topHand.visible=!1,this.bottomHand.visible=!1,this.cardSprite.removeChildren(),this.topGroup.removeChildren(),this.leftGroup.removeChildren(),this.rightGroup.removeChildren(),this.initialized=!0},e.prototype.open=function(t){if("createRoom"===t.oper){this.tableId.text=t.tableId,this.ownerSeat=t.seat,this.skin.currentState=this.TYPE_WAIT;var e=DataCenter.userInfo;this.roleInfo_102.setRoleInfo(e);var r=this.initSeat.indexOf(data.Seat.South);this.initSeat.splice(r,1),this.relativeSeat[t.seat]=data.Seat.South,this.curFocusSeat=data.Seat.South}else if(t.handCards.length)this.skin.currentState=this.TYPE_GAME;else{this.skin.currentState=this.TYPE_WAIT,this.tableId.text=t.tableId,this.ownerSeat=t.seat,DataCenter.playerCount=t.playerCount;var e=DataCenter.userInfo;this.roleInfo_102.setRoleInfo(e);var r=this.initSeat.indexOf(data.Seat.South);this.initSeat.splice(r,1),this.relativeSeat[t.seat]=data.Seat.South,this.createRoleInfo(t.userInfoList)}},e.prototype.close=function(t){},e.prototype.createRoleInfo=function(t){if(2===DataCenter.playerCount){if(t.length){var e=t[0],r=e.userInfo;this.roleInfo_104.setRoleInfo(r);var o=this.initSeat.indexOf(data.Seat.North);this.initSeat.splice(o,1),this.relativeSeat[e.seat]=data.Seat.North}}else if(t.length)for(var n,i=0,s=t.length;s>i;i++){n=t[i];var a=this.initSeat.shift();this.relativeSeat[n.seat]=a,this["roleInfo_"+a].setRoleInfo(n.userInfo)}},e.prototype.showGameState=function(t){this.skin.currentState=this.TYPE_GAME,this.cardobj=this.cardobj.concat(t.handCards),this.curCardPi=t.pizi,this.curCardLai=t.laizi,this.copyCardGather=this.copyCardGather.concat(t.handCards),this.startNewGame(t.dice1,t.dice2,this.relativeSeat[t.dealer])},e.prototype.notifyDealCards=function(t){var e=this;if(this.relativeSeat[t.seat]===data.Seat.South)this.initialized?(this.initialized=!1,this.cardobj.push(t.drawCard),this.copyCardGather.push(t.drawCard)):(this.cardMap.removeItem(),this.addCardGroup([t.drawCard],!0));else{var r=this.relativeSeat[t.seat],o=this.seatObj[r],n=new eui.Image;n.source=this.assetObj[r],o.addChild(n),r===data.Seat.North?(n.x=o.numChildren*n.width,o.x-=n.width):(n.y=o.numChildren*n.width,o.y-=n.width)}t.isWin;var i=[];t.KongCards.forEach(function(t){t.list.length>=4&&i.push(data.Option.Kong),t.list.forEach(function(t){t===e.curCardPi?i.push(data.Option.Pi):t===e.curCardLai&&i.push(data.Option.Lai)},e)},this),i.length&&this.createOper(i)},e.prototype.notifyPlayCard=function(t){if(this.relativeSeat[t.seat]!==data.Seat.South){var e=temple.TempleManager.select(t.playCard),r={cardBg:1,icon:e.icon+"_png"};this.addCardItem(this.dachuObj[this.relativeSeat[t.seat]],r);var o=this.relativeSeat[t.seat],n=this.seatObj[o];n.removeChildAt(n.numChildren-1),o===data.Seat.North?n.x-=Config.w_tieldCard:n.y-=Config.w_tieldCard,t.isWin}},e.prototype.notifyPlayResponse=function(t){this.relativeSeat[t.seat]!==data.Seat.South&&(t.pongKongChow.length?this.createOper([t.option]):(this.curOption=data.Option.Pass,this.applyFunc(GameConsts.PLAYCARDRESPONSE_C2S,{option:data.Option.Pass})))},e.prototype.notifyChangeUser=function(t){this.initialized||(this.timeCom.initialize(),this.curFocusSeat=this.relativeSeat[t],this.timeCom.setFocus(this.curFocusSeat,Config.waitTime,this.timeEnd,this))},e.prototype.playCardResponse=function(){this.leftGroup.removeChildren(),this.rightGroup.removeChildren()},e.prototype.leaveSeat=function(t){2===DataCenter.playerCount?this.roleInfo_104.showLeave():this["roleInfo_"+this.relativeSeat[t]].showLeave()},e.prototype.playCardSuccess=function(){this.outCard(data.Seat.South)},e.prototype.curGameEnd=function(t){this.curGameState=0},e.prototype.raiseHandSuccess=function(){this.readyBtn.visible=!1,this.bottomHand.visible=!0},e.prototype.startNewGame=function(t,e,r){var o=this;this.cardMap&&this.cardMap.parent&&this.cardMap.parent.contains(this.cardMap)&&this.cardMap.parent.removeChild(this.cardMap),this.curFocusSeat=r,this.cardMap=new CardMap,this.curGameState=1,this.addChild(this.cardMap),this.setChildIndex(this.cardMap,1),this.cardMap.width=Config.w_width,this.cardMap.height=Config.w_height,this.cardMap.x=this.cardMap.y=0,this.cardMap.calculBlock(t,e,r),CardTransFormUtil.startGetCard(r,this.cardobj,this.cardSprite,function(t){if(t["final"]){o.cardSprite.removeChildren();var e=GlobalFunc.sortRule(GlobalFunc.NORMALIZE,"",o.copyCardGather);o.addCardGroup(e),o.timeCom.initialize(),o.timeCom.setFocus(o.curFocusSeat,Config.waitTime,o.timeEnd,o)}else if(t.handCard.length)o.addCardGroup(t.handCard),t.handCard.length>=4&&o.cardMap.removeBlock(),2===t.handCard.length&&o.cardMap.removeJumpItem(),1===t.handCard.length&&o.cardMap.removeItem();else{for(var r=0;r<t.num;r++){var n=new eui.Image;n.source=o.assetObj[t.seat],o.seatObj[t.seat].addChild(n),t.seat===data.Seat.North?n.x=o.seatObj[t.seat].numChildren*n.width:n.y=o.seatObj[t.seat].numChildren*n.width}4===t.num&&o.cardMap.removeBlock(),2===t.num&&o.cardMap.removeJumpItem(),1===t.num&&o.cardMap.removeItem()}},this)},e.prototype.timeEnd=function(){},e.prototype.addCardItem=function(t,e){t.addItem(e)},e.prototype.removeCardItem=function(t,e){t.removeItemAt(t.source[t.source.length-1])},e.prototype.addCardGroup=function(t,e){void 0===e&&(e=!1);for(var r=0,o=t.length;o>r;r++){var n=temple.TempleManager.select(t[r]),i=new HandCardItem(n);e?(i.x=this.cardSprite.numChildren*i.width+i.width,this.newCard=i):i.x=i.width*this.cardSprite.numChildren,this.cardSprite.addChild(i)}},e.prototype.onCardItemTap=function(t){this.curTarget=t.target.parent,this.prevTarget?this.curTarget===this.prevTarget?egret.Tween.get(this.curTarget).to({y:0},100).call(function(){egret.Tween.removeTweens(this.curTarget),this.prevTarget=null},this):(egret.Tween.get(this.curTarget).to({y:this.curTarget.y-(this.curTarget.height>>2)},100).call(function(){egret.Tween.removeTweens(this.curTarget)},this),egret.Tween.get(this.prevTarget).to({y:0},100).call(function(){egret.Tween.removeTweens(this.prevTarget)},this)):egret.Tween.get(this.curTarget).to({y:this.curTarget.y-(this.curTarget.height>>2)},100).call(function(){egret.Tween.removeTweens(this.curTarget)},this),this.prevTarget=t.target.parent},e.prototype.onCardTouchBegin=function(t){this.clickState=!0,this.curStageY=t.stageY,this.curTarget=t.target.parent},e.prototype.onCardTouchEnd=function(t){if(this.clickState&&this.curFocusSeat===data.Seat.South&&this.skin.currentState===this.TYPE_GAME){this.clickState=!1;var e=this.curStageY-t.stageY;if(e>Config.h_handCard){var r=CardTransFormUtil.trasnFormCardIdWay2(Number(this.curTarget.cardId));this.applyFunc(GameConsts.PLAYCARD_C2S,r)}}},e.prototype.outCard=function(t,e){if(void 0===e&&(e=""),t===data.Seat.South){var r={icon:this.curTarget.path_icon};this.addCardItem(this.southCollect,r);var o=this.curTarget.x;this.cardSprite.removeChild(this.curTarget),this.curTarget!=this.newCard&&this.setCardToPosition(o)}else{var n=0,i=0,s={};t===data.Seat.East||t===data.Seat.West?(i=1,n=0):(n=1,i=0);var a=12*Math.random()+1>>0;this.addCardItem(this.dachuObj[t],{cardBg:1,icon:e+"_png"});for(var c=this.seatObj[t].numChildren,h=[],p=0;c>p;p++)p>a&&h.push(this.seatObj[t].getChildAt(p));this.seatObj[t].removeChildAt(a);
for(var u=0;u<h.length;u++){var d=h[u];n&&(s={x:d.x-d.width}),i&&(s={y:d.y-d.height}),egret.Tween.get(d).to(s,this.moveStep).call(function(){egret.Tween.removeTweens(d)},this)}}},e.prototype.setCardToPosition=function(t){for(var e,r=this,o=this.cardSprite.numChildren-1,n=-1,i=0;o>i;i++){e=this.cardSprite.getChildAt(i);var s=CardTransFormUtil.getCardType(Number(e.cardId)),a=CardTransFormUtil.getCardType(Number(this.newCard.cardId));if(a===s){var c=CardTransFormUtil.trasnFormCardIdWay2(Number(e.cardId)),h=CardTransFormUtil.trasnFormCardIdWay2(Number(this.newCard.cardId));if(c>=h){n=e.x;break}}}-1!=n?this.searchMoveCardGroup(t,n):egret.Tween.get(this.newCard).to({x:this.newCard.x-this.newCard.width},this.moveStep).call(function(){egret.Tween.removeTweens(r.newCard)},this)},e.prototype.searchMoveCardGroup=function(t,e){var r=this,o=[],n=0;if(e!=t&&Math.abs(t-e)!=Config.w_handCard){if(t>e){n=1;for(var i=0;i<this.cardSprite.numChildren;i++){var s=this.cardSprite.getChildAt(i);s.x>=e&&s.x<t&&o.push(s)}}else{n=-1;for(var a=0;a<this.cardSprite.numChildren;a++){var s=this.cardSprite.getChildAt(a);s.x<=e&&s.x>t&&o.push(s)}}egret.Tween.get(this.newCard).to({y:-this.newCard.height-20},this.moveStep).to({x:e},(this.newCard.x-e)/this.newCard.width*this.moveStep).call(function(){for(var t=0;t<o.length;t++){var e=o[t];egret.Tween.get(e).to({x:e.x+n*e.width},r.moveStep).call(function(){egret.Tween.removeTweens(e)},r)}},this).to({y:0},this.moveStep).call(function(){egret.Tween.removeTweens(r.newCard)},this)}else egret.Tween.get(this.newCard).to({y:-this.newCard.height-20},this.moveStep).to({x:t},(this.newCard.x-t)/this.newCard.width*this.moveStep).to({y:0},this.moveStep).call(function(){egret.Tween.removeTweens(r.newCard)},this)},e.prototype.createOper=function(t){this.leftOper.removeChildren(),this.rightOper.removeChildren();var e=new eui.Image;e.source="room_oper_"+data.Option.Pass+"_png",this.rightGroup.addChild(e),e.name=data.Option.Pass+"",e.width=63,e.height=78,e.x=this.rightOper.width-e.width;for(var r=0,o=t.length;o>r;r++){var n=new eui.Image;n.source="room_oper_"+t[r]+"_png",n.name=t[r]+"",t[r]===data.Option.Lai||t[r]===data.Option.Pi?(this.leftOper.addChild(n),n.x=r*n.width+10):(this.rightOper.addChild(n),n.width=63,n.height=78,n.x=this.rightOper.width-this.rightGroup.numChildren*(n.width+10))}},e.prototype.onTouchHandler=function(t){if(t.target.parent===this.leftGroup||t.target.parent===this.rightGroup){var e=t.target.name;return void this.applyFunc(GameConsts.PLAYCARDRESPONSE_C2S,{option:parseInt(e)})}switch(t.target){case this.buttonYaoQing:break;case this.readyBtn:if(this.readyState)return;this.readyState=!0,this.applyFunc(GameConsts.RAISEHANDS_C2S)}},e}(BaseEuiView);__reflect(ViewGame.prototype,"ViewGame");var LoadingConst=function(){function t(){}return t}();LoadingConst.SetProgress=10001,__reflect(LoadingConst.prototype,"LoadingConst");var LoadingController=function(t){function e(){var e=t.call(this)||this;return e.loadingView=new LoadingView(e,LayerManager.UI_Main),App.ViewManager.register(ViewConst.Loading,e.loadingView),e.registerFunc(LoadingConst.SetProgress,e.setProgress,e),e}return __extends(e,t),e.prototype.setProgress=function(t,e){this.loadingView.setProgress(t,e)},e}(BaseController);__reflect(LoadingController.prototype,"LoadingController");var LoadingView=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.skinName="LoadingUISkin",o}return __extends(e,t),e.prototype.setProgress=function(t,e){this.txtMsg.text="资源加载中..."+t+"/"+e},e}(BaseEuiView);__reflect(LoadingView.prototype,"LoadingView");var LoginConsts=function(){function t(){}return t}();LoginConsts.LOGIN_C2S="login_10001",LoginConsts.LOGIN_S2C="login_10002",LoginConsts.KICK_OUT_S2C="login_10003",__reflect(LoginConsts.prototype,"LoginConsts");var LoginController=function(t){function e(){var e=t.call(this)||this;return e.loginModel=new LoginModel(e),e.loginView=new ViewLogin(e,LayerManager.UI_Main),App.ViewManager.register(ViewConst.Login,e.loginView),e.loginProxy=new LoginProxy(e),e.registerFunc(LoginConsts.LOGIN_C2S,e.onLogin,e),e.registerFunc(LoginConsts.LOGIN_S2C,e.loginSuccess,e),e.registerFunc(LoginConsts.KICK_OUT_S2C,e.onKickOut,e),e}return __extends(e,t),e.prototype.onLogin=function(t){this.loginProxy.login(t.userName,t.pwd)},e.prototype.loginSuccess=function(t){t.isSuccess?(this.loginModel.userInfo=t.userInfo,DataCenter.userInfo=t.userInfo,this.loginView.loginSuccess(),App.ViewManager.close(ViewConst.Login),App.ViewManager.open(ViewConst.Start,{userInfo:t.userInfo})):alert(t.errMsg)},e.prototype.onKickOut=function(t){alert(t.reason)},e}(BaseController);__reflect(LoginController.prototype,"LoginController");var LoginModel=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(BaseModel);__reflect(LoginModel.prototype,"LoginModel");var LoginProxy=function(t){function e(e){var r=t.call(this,e)||this;return r.receiveServerMsg(LoginConsts.LOGIN_S2C,r.loginSuccess,r),r}return __extends(e,t),e.prototype.login=function(t,e){var r=new proto.c_LoginAccount;r.userName=t,r.password=e,this.sendSocketMsg(r)},e.prototype.loginSuccess=function(t){this.applyFunc(LoginConsts.LOGIN_S2C,t)},e}(BaseProxy);__reflect(LoginProxy.prototype,"LoginProxy");var ViewLogin=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.skinName="ViewLoginSkin",o}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this)},e.prototype.initData=function(){t.prototype.initData.call(this)},e.prototype.open=function(t){},e.prototype.close=function(t){},e.prototype.onTouchHandler=function(t){switch(t.target){case this.btnLogin:if(Config.connectState){var e=GlobalFunc.guid(),r="111111";this.applyFunc(LoginConsts.LOGIN_C2S,{userName:e,pwd:r})}else alert("网络不好,请稍后再试");break;case this.wxLogin:}},e.prototype.loginSuccess=function(){},e}(BaseEuiView);__reflect(ViewLogin.prototype,"ViewLogin");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,r){function o(o){e.call(r,o,t)}if(RES.hasRes(t)){var n=RES.getRes(t);n?o(n):RES.getResAsync(t,o,this)}else RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var PopCreateRoomController=function(t){function e(){var e=t.call(this)||this;return e.proCreateRoomModel=new PopCreateRoomModel(e),e.popCreateRome=new PopCreateRoom(e,LayerManager.UI_Popup),App.ViewManager.register(ViewConst.Create,e.popCreateRome),e.popCreateRoomProxy=new PopCreateRoomProxy(e),e}return __extends(e,t),e}(BaseController);__reflect(PopCreateRoomController.prototype,"PopCreateRoomController");var PopCreateRoomModel=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(BaseModel);__reflect(PopCreateRoomModel.prototype,"PopCreateRoomModel");var PopCreateRoomProxy=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(BaseProxy);__reflect(PopCreateRoomProxy.prototype,"PopCreateRoomProxy");var PopJoinRome=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.romeNum="",o.skinName="PopJoinRomeSkin",o}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this),this.collect=new eui.ArrayCollection,this.keyList.itemRenderer=MyButton,this.keyList.dataProvider=this.collect,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this),this.keyList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this)},e.prototype.open=function(t){this.initRoomNum(),this.collect.source=[{num:"1"},{num:"2"},{num:"3"},{num:"4"},{num:"5"},{num:"6"},{num:"7"},{num:"8"},{num:"9"},{num:"r"},{num:"0"},{num:"d"}],this.x=(this.myParent.width>>1)-(this.measuredWidth>>1),this.y=(this.myParent.height>>1)-(this.measuredHeight>>1)},e.prototype.initRoomNum=function(){this.romeNum="";for(var t=1;6>=t;t++)this["num"+t].text=""},e.prototype.close=function(t){App.ViewManager.close(ViewConst.Join)},e.prototype.onItemTap=function(t){switch(t.item.num){case"d":var e=this.romeNum.split("");e.length>0&&(e.pop(),this.romeNum=e.join(""),this.addLabel());break;case"r":this.romeNum="",this.addLabel();break;default:var r=this.romeNum.split("");if(r.length<=5){this.romeNum+=t.item.num,this.addLabel();var o=this.romeNum.split("");o.length>=5&&(this.close([]),this.applyControllerFunc(ControllerConst.START_CONTROLLER,StartConsts.JOIN_ROOM_C2S,{tableId:this.romeNum}))}}},e.prototype.addLabel=function(){for(var t=this.romeNum.split(""),e=1;6>=e;e++)this["num"+e].text="";if(t.length)for(var r=1;r<=t.length;r++)this["num"+r].text=t[r-1]},e.prototype.onTouchHandler=function(t){switch(t.target){case this.btnClose:this.close([])}},e}(BaseEuiView);__reflect(PopJoinRome.prototype,"PopJoinRome");var PopJoinRoomController=function(t){function e(){var e=t.call(this)||this;return e.proJoinRoomModel=new PopJoinRoomModel(e),e.popJoinRome=new PopJoinRome(e,LayerManager.UI_Popup),App.ViewManager.register(ViewConst.Join,e.popJoinRome),e.popJoinRoomProxy=new PopJoinRoomProxy(e),e}return __extends(e,t),e}(BaseController);__reflect(PopJoinRoomController.prototype,"PopJoinRoomController");var PopJoinRoomModel=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(BaseModel);__reflect(PopJoinRoomModel.prototype,"PopJoinRoomModel");var PopJoinRoomProxy=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(BaseProxy);__reflect(PopJoinRoomProxy.prototype,"PopJoinRoomProxy");var PopMyScoreController=function(t){function e(){var e=t.call(this)||this;return e.popMyScore=new PopScore(e,LayerManager.UI_Popup),App.ViewManager.register(ViewConst.MyScore,e.popMyScore),e}return __extends(e,t),e}(BaseController);__reflect(PopMyScoreController.prototype,"PopMyScoreController");var PopScore=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.skinName="PopMyScore",o}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this)},e.prototype.open=function(t){this.x=(this.myParent.width>>1)-(this.measuredWidth>>1),this.y=(this.myParent.height>>1)-(this.measuredHeight>>1)},e.prototype.close=function(t){App.ViewManager.close(ViewConst.MyScore)},e.prototype.onTouchHandler=function(t){switch(t.target){case this.btnClose:this.close([])}},e}(BaseEuiView);__reflect(PopScore.prototype,"PopScore");var PopSystemSet=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.skinName="PopHomeSetSkin",o}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this),this.sndEffectSlider.minimum=0,this.sndSlider.minimum=0,this.sndEffectSlider.maximum=100,this.sndSlider.maximum=100,this.sndEffectSlider.progressBar.maximum=100,this.sndSlider.progressBar.maximum=100,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this),this.sndEffectSlider.addEventListener(eui.UIEvent.CHANGE,this.effectSndChangeHandler,this),this.sndSlider.addEventListener(eui.UIEvent.CHANGE,this.bgSndChangeHandler,this)},e.prototype.open=function(t){this.sndEffectSlider.value=Config.soundEffectPercent,this.sndEffectSlider.progressBar.value=Config.soundEffectPercent,this.sndSlider.value=Config.bgSoundPercent,this.sndSlider.progressBar.value=Config.bgSoundPercent,this.x=(this.myParent.width>>1)-(this.measuredWidth>>1),this.y=(this.myParent.height>>1)-(this.measuredHeight>>1)},e.prototype.effectSndChangeHandler=function(t){Config.soundEffectPercent=t.target.value,this.sndEffectSlider.progressBar.value=Config.soundEffectPercent},e.prototype.bgSndChangeHandler=function(t){Config.bgSoundPercent=t.target.value,this.sndSlider.progressBar.value=Config.bgSoundPercent},e.prototype.close=function(t){App.ViewManager.close(ViewConst.SystemSet)},e.prototype.onTouchHandler=function(t){switch(t.target){case this.btnClose:this.close([]);break;case this.btnExit:}},e}(BaseEuiView);__reflect(PopSystemSet.prototype,"PopSystemSet");var PopSystemSetController=function(t){function e(){var e=t.call(this)||this;return e.popSystemSet=new PopSystemSet(e,LayerManager.UI_Popup),App.ViewManager.register(ViewConst.SystemSet,e.popSystemSet),e}return __extends(e,t),e}(BaseController);__reflect(PopSystemSetController.prototype,"PopSystemSetController");var StartConsts=function(){function t(){}return t}();StartConsts.CREATE_ROOM_C2S="start_10001",StartConsts.CREATE_ROOM_S2C="start_10002",StartConsts.JOIN_ROOM_C2S="start_10003",StartConsts.JOIN_ROOM_S2C="start_10004",StartConsts.GET_ROOMLIST_C2S="start_10005",StartConsts.GET_ROOMLIST_S2C="start_10006",__reflect(StartConsts.prototype,"StartConsts");var StartController=function(t){function e(){var e=t.call(this)||this;return e.startModel=new StartModel(e),e.startView=new ViewStart(e,LayerManager.UI_Main),App.ViewManager.register(ViewConst.Start,e.startView),e.startProxy=new StartProxy(e),e.registerFunc(StartConsts.CREATE_ROOM_C2S,e.creatRoom,e),e.registerFunc(StartConsts.CREATE_ROOM_S2C,e.creatRoomRes,e),e.registerFunc(StartConsts.JOIN_ROOM_C2S,e.joinRoom,e),e.registerFunc(StartConsts.JOIN_ROOM_S2C,e.joinRoomRes,e),e}return __extends(e,t),e.prototype.creatRoom=function(t){this.startProxy.createRoom(t)},e.prototype.creatRoomRes=function(t){if(t.isSuccess){var e={tableId:t.tableId,seat:t.seat,userInfoList:t.userInfoList,oper:"createRoom"};App.ViewManager.close(ViewConst.Start),App.ViewManager.open(ViewConst.Game,e)}else alert(t.errMsg)},e.prototype.joinRoom=function(t){this.startProxy.joinRoom(t)},e.prototype.joinRoomRes=function(t){if(t.isSuccess){var e={oper:"joinRoom",seat:t.seat,playerCount:t.playerCount,dice1:t.Dice1,dice2:t.Dice2,drawCard:t.drawCard,handCards:t.HandsCard,seatCardsInfoList:t.seatCardInfoList,userInfoList:t.userInfoList};App.ViewManager.close(ViewConst.Start),App.ViewManager.open(ViewConst.Game,e)}else alert(t.errMsg)},e}(BaseController);__reflect(StartController.prototype,"StartController");var StartModel=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(BaseModel);__reflect(StartModel.prototype,"StartModel");var StartProxy=function(t){function e(e){var r=t.call(this,e)||this;return r.receiveServerMsg(StartConsts.CREATE_ROOM_S2C,r.createRoomRes,r),r.receiveServerMsg(StartConsts.JOIN_ROOM_S2C,r.joinRoomRes,r),r}return __extends(e,t),e.prototype.createRoom=function(t){var e=new proto.c_CreateRoom;e.playerCount=t.playerCount,e.times=t.times,e.roomPassword="111111",e.basicScore=t.basicScore,this.sendSocketMsg(e)},e.prototype.joinRoom=function(t){var e=new proto.c_EnterRoom;e.tableId=t.tableId,e.roomPassword="111111",this.sendSocketMsg(e)},e.prototype.createRoomRes=function(t){this.applyFunc(StartConsts.CREATE_ROOM_S2C,t)},e.prototype.joinRoomRes=function(t){this.applyFunc(StartConsts.JOIN_ROOM_S2C,t)},e}(BaseProxy);__reflect(StartProxy.prototype,"StartProxy");var ViewStart=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.skinName="ViewStartSkin",o}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this)},e.prototype.initData=function(){t.prototype.initData.call(this)},e.prototype.open=function(t){var e=t.userInfo;this.playerName.text=e.nick,this.playerId.text="ID:"+e.userId,DataCenter.playerId=e.userId,this.cardNum.text=e.cardCount+""},e.prototype.close=function(t){},e.prototype.onTouchHandler=function(t){switch(t.target){case this.createRoomBtn:App.ViewManager.open(ViewConst.Create);break;case this.joinRoomBtn:App.ViewManager.open(ViewConst.Join);break;case this.buttonSet:App.ViewManager.open(ViewConst.SystemSet);break;case this.buttonScore:App.ViewManager.open(ViewConst.MyScore)}},e}(BaseEuiView);__reflect(ViewStart.prototype,"ViewStart");var CardItem=function(t){function e(){var e=t.call(this)||this;return e.defaultBg="opposite_block_image_30_png",e.leftBg="dachupai_left",e}return __extends(e,t),e.prototype.dataChanged=function(){this.cardIcon.source=this.data.icon,this.data.cardBg?this.cardBg.source=this.leftBg:this.cardBg.source=this.defaultBg},e}(eui.ItemRenderer);__reflect(CardItem.prototype,"CardItem");var ControllerManager=function(t){function e(){var e=t.call(this)||this;return e._modules={},e}return __extends(e,t),e.prototype.clear=function(){this._modules={}},e.prototype.register=function(t,e){this.isExists(t)||(this._modules[t]=e)},e.prototype.unregister=function(t){this.isExists(t)&&(this._modules[t]=null,delete this._modules[t])},e.prototype.isExists=function(t){return null!=this._modules[t]},e.prototype.applyFunc=function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=this._modules[t];if(n){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return n.applyFunc.apply(n,i)}return console.log("模块"+t+"不存在"),null},e.prototype.getControllerModel=function(t){var e=this._modules[t];return e?e.getModel():null},e}(BaseClass);__reflect(ControllerManager.prototype,"ControllerManager");var CardMap=function(t){function e(){var e=t.call(this)||this;return e.seatObj={},e.extraGroup=[],e.skinName="CardMapSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.seatObj[data.Seat.North]=this.northGroup,this.seatObj[data.Seat.East]=this.eastGroup,this.seatObj[data.Seat.South]=this.southGroup,this.seatObj[data.Seat.West]=this.westGroup},e.prototype.calculBlock=function(t,e,r){var o,n;t>=e?(o=e,n=t):(o=t,n=e);var i,s,a=o+n;i=a%DataCenter.playerCount,0===i&&(i=4),s=this.createDicArr(r,!1),this.reCardDic=this.createDicArr(s[i-1],!0),this.firstSeat=this.curSeat=this.reCardDic.shift(),this.curGroup=this.seatObj[this.curSeat];for(var c=0;o>c;c++)this.extraGroup.push(this.curGroup.getChildAt(this.curGroup.numChildren-1-c))},e.prototype.removeBlock=function(){for(var t=0;2>t;t++)if(this.curSeat===this.firstSeat){var e=this.curGroup.numChildren-this.extraGroup.length;e?this.clockWithRemove():(this.curSeat=this.reCardDic.shift(),this.curGroup=this.seatObj[this.curSeat],this.clockWithRemove())}else this.curGroup.numChildren?this.clockWithRemove():(this.curSeat=this.reCardDic.shift(),this.curGroup=this.seatObj[this.curSeat],this.clockWithRemove())},e.prototype.removeJumpItem=function(){if(this.curGroup.numChildren){var t=this.curGroup.getChildAt(0),e=this.reCardDic[0],r=this.seatObj[e];if(this.curGroup.numChildren<=1)if(e!=data.Seat.West)var o=r.getChildAt(1);else var o=r.getChildAt(r.numChildren-2);else if(this.curGroup.numChildren<=2)if(e!=data.Seat.West)var o=r.getChildAt(0);else var o=r.getChildAt(r.numChildren-1);else var o=this.curGroup.getChildAt(2);t.removeChild(t.getChildAt(t.numChildren-1)),o.removeChild(o.getChildAt(o.numChildren-1))}else{if(this.curSeat=this.reCardDic.shift(),this.curGroup=this.seatObj[this.curSeat],this.curSeat!=data.Seat.West)var t=this.curGroup.getChildAt(0),o=this.curGroup.getChildAt(2);else var n=this.curGroup.numChildren-1,i=this.curGroup.numChildren-3,t=this.curGroup.getChildAt(n),o=this.curGroup.getChildAt(i);t.removeChild(t.getChildAt(t.numChildren-1)),o.removeChild(o.getChildAt(o.numChildren-1))}},e.prototype.removeItem=function(){if(this.curGroup.numChildren)this.clockWithRemove(!0);else{if(!this.reCardDic.length)return void alert("牌已经打完");this.curSeat=this.reCardDic.shift(),this.curGroup=this.seatObj[this.curSeat],this.clockWithRemove(!0)}},e.prototype.clockWithRemove=function(t){if(void 0===t&&(t=!1),this.curSeat===this.firstSeat)if(this.curSeat===data.Seat.West)var e=this.curGroup.numChildren-1-this.extraGroup.length;else var e=this.extraGroup.length;else if(this.curSeat===data.Seat.West)var e=this.curGroup.numChildren-1;else var e=0;if(t){var r=this.curGroup.getChildAt(e);r.removeChild(r.getChildAt(r.numChildren-1)),r.numChildren||this.curGroup.removeChild(r)}else this.curGroup.removeChild(this.curGroup.getChildAt(e))},e.prototype.createDicArr=function(t,e){var r=[];switch(t){case data.Seat.North:r=e?[data.Seat.North,data.Seat.East,data.Seat.South,data.Seat.West]:[data.Seat.North,data.Seat.West,data.Seat.South,data.Seat.East];break;case data.Seat.East:r=e?[data.Seat.East,data.Seat.South,data.Seat.West,data.Seat.North]:[data.Seat.East,data.Seat.North,data.Seat.West,data.Seat.South];break;case data.Seat.South:r=e?[data.Seat.South,data.Seat.West,data.Seat.North,data.Seat.East]:[data.Seat.South,data.Seat.East,data.Seat.North,data.Seat.West];break;case data.Seat.West:r=e?[data.Seat.West,data.Seat.North,data.Seat.East,data.Seat.South]:[data.Seat.West,data.Seat.South,data.Seat.East,data.Seat.North]}return r},e}(eui.Component);__reflect(CardMap.prototype,"CardMap");var CardReverse=function(t){function e(){var e=t.call(this)||this;return e.skinName="CardReverseSkin",e}return __extends(e,t),e}(eui.Component);__reflect(CardReverse.prototype,"CardReverse");var HandCardItem=function(t){function e(e){var r=t.call(this)||this;return r.path_icon="",r.soundObj={},r.skinName="HandCardItemSkin",r.cardId=e.icon,r.path_icon=r.cardId+"_png",RES.getResByUrl(Config.audio_path+e.manVoice+".mp3",function(t){this.soundObj[1]=t},r,RES.ResourceItem.TYPE_SOUND),RES.getResByUrl(Config.audio_path+e.womenVoice+".mp3",function(t){this.soundObj[2]=t},r,RES.ResourceItem.TYPE_SOUND),r}return __extends(e,t),e.prototype.childrenCreated=function(){this.cardIcon.source=this.path_icon},e.prototype.playEffect=function(t){this.sound=this.soundObj[t],this.sound&&(this.channel=this.sound.play(0,1),this.channel.volume=Config.soundEffectPercent)},e}(eui.Component);__reflect(HandCardItem.prototype,"HandCardItem");var BaseSpriteView=function(t){function e(e,r){var o=t.call(this)||this;return o._resources=null,o._controller=e,o._myParent=r,o._isInit=!1,App.StageUtils.getStage().addEventListener(egret.Event.RESIZE,o.onResize,o),o}return __extends(e,t),e.prototype.setResources=function(t){this._resources=t},Object.defineProperty(e.prototype,"myParent",{get:function(){return this._myParent},enumerable:!0,configurable:!0}),e.prototype.isInit=function(){return this._isInit},e.prototype.applyFunc=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this._controller.applyFunc.apply(this._controller,arguments)},e.prototype.applyControllerFunc=function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return this._controller.applyControllerFunc.apply(this._controller,arguments)},e.prototype.isShow=function(){return null!=this.stage&&this.visible},e.prototype.addToParent=function(){this._myParent.addChild(this)},e.prototype.removeFromParent=function(){App.DisplayUtils.removeFromParent(this)},e.prototype.initUI=function(){this._isInit=!0},e.prototype.initData=function(){},e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.destroy=function(){this._controller=null,this._myParent=null,this._resources=null},e.prototype.onResize=function(){},e.prototype.loadResource=function(t,e){this._resources&&this._resources.length>0?App.ResourceUtils.loadResource(this._resources,[],function(){t(),e()},null,this):(t(),e())},e.prototype.setVisible=function(t){this.visible=t},e}(egret.DisplayObjectContainer);__reflect(BaseSpriteView.prototype,"BaseSpriteView",["IBaseView"]);var ViewManager=function(t){function e(){var e=t.call(this)||this;return e._views={},e._opens=[],e}return __extends(e,t),e.prototype.clear=function(){this.closeAll(),this._views={}},e.prototype.register=function(t,e){null!=e&&(this._views[t]||(this._views[t]=e))},e.prototype.unregister=function(t){this._views[t]&&(this._views[t]=null,delete this._views[t])},e.prototype.destroy=function(t,e){void 0===e&&(e=null);var r=this.getView(t);r&&(this.unregister(t),r.destroy(),r=null),this.register(t,e)},e.prototype.open=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=this.getView(t);return null==o?void console.log("UI_"+t+"不存在"):o.isShow()?(o.open.apply(o,e),o):(o.isInit()?(o.addToParent(),o.open.apply(o,e)):o.loadResource(function(){o.setVisible(!1),o.addToParent()}.bind(this),function(){o.initUI(),o.initData(),o.open.apply(o,e),o.setVisible(!0)}.bind(this)),this._opens.push(t),o)},e.prototype.close=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(this.isShow(t)){var o=this.getView(t);if(null!=o){var n=this._opens.indexOf(t);t>=0&&this._opens.splice(n,1),o.removeFromParent(),o.close.apply(o,e)}}},e.prototype.closeView=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var o=Object.keys(this._views),n=0,i=o.length;i>n;n++){var s=parseInt(o[n]);if(this._views[s]==t)return void this.close(s,e)}},e.prototype.getView=function(t){return this._views[t]},e.prototype.closeAll=function(){for(;this._opens.length;)this.close(this._opens[0])},e.prototype.currOpenNum=function(){return this._opens.length},e.prototype.isShow=function(t){return-1!=this._opens.indexOf(t)},e}(BaseClass);__reflect(ViewManager.prototype,"ViewManager");var proto;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.handle=function(t){this.commands[t.S]&&this.commands[t.S](t)},e.prototype.do_close=function(){console.log("与服务器断开连接"),Config.connectState=!1},e.prototype.do_connect=function(){console.log("连接服务器成功"),Config.connectState=!0},e.prototype.do_s_LoginAccount=function(t){App.MessageCenter.dispatch(LoginConsts.LOGIN_S2C,t)},e.prototype.do_s_Kickout=function(t){App.MessageCenter.dispatch(LoginConsts.KICK_OUT_S2C,t)},e.prototype.do_s_CreateRoom=function(t){App.MessageCenter.dispatch(StartConsts.CREATE_ROOM_S2C,t)},e.prototype.do_s_EnterRoom=function(t){App.MessageCenter.dispatch(StartConsts.JOIN_ROOM_S2C,t)},e.prototype.do_s_AttrChange=function(t){},e.prototype.do_s_NotifyEnterTable=function(t){App.MessageCenter.dispatch(GameConsts.OTHER_ENTERTABEL_S2C,t)},e.prototype.do_s_NotifyLeaveTable=function(t){App.MessageCenter.dispatch(GameConsts.LEAVETABLE_S2C,t)},e.prototype.do_s_NotifyHandCards=function(t){App.MessageCenter.dispatch(GameConsts.NOTIFY_HANDCARDS_S2C,t)},e.prototype.do_s_NotifyDealCard=function(t){App.MessageCenter.dispatch(GameConsts.NOTIFY_DEALCARDS_S2C,t)},e.prototype.do_s_NotifyPlayCard=function(t){App.MessageCenter.dispatch(GameConsts.NOTIFY_PLAYCARDS_S2C,t)},e.prototype.do_s_NotifyPlayResponse=function(t){App.MessageCenter.dispatch(GameConsts.NOTIFY_PLAYRESPONSE_S2C,t)},e.prototype.do_s_NotifyChangeOpUser=function(t){App.MessageCenter.dispatch(GameConsts.NOTIFY_CHANGEOPUSER_S2C,t)},e.prototype.do_s_NotifyEndHandCards=function(t){App.MessageCenter.dispatch(GameConsts.CURGAME_END_S2C,t)},e.prototype.do_s_RaiseHands=function(t){App.MessageCenter.dispatch(GameConsts.RAISEHANDS_S2C,t)},e.prototype.do_s_DrawCardResponse=function(t){App.MessageCenter.dispatch(GameConsts.DRAWCARDRESPONSE_S2C,t)},e.prototype.do_s_PlayCard=function(t){App.MessageCenter.dispatch(GameConsts.PLAYCARD_S2C,t)},e.prototype.do_s_PlayCardResponse=function(t){App.MessageCenter.dispatch(GameConsts.PLAYCARDRESPONSE_S2C,t)},e}(t.MessageHandle);t.Processor=e,__reflect(e.prototype,"proto.Processor")}(proto||(proto={}));var SocketManager;!function(t){function e(){return null==o&&(o=new r),o}var r=function(){function t(){this.sock=new egret.WebSocket,this.buf=new egret.ByteArray,this.lenbuf=new egret.ByteArray,this._arr=new egret.ByteArray,this.MessType=new proto.messType,this.handler=new proto.Processor}return t.prototype.connectServer=function(t,e){void 0===t&&(t=""),void 0===e&&(e=80),this.buf.endian=egret.Endian.LITTLE_ENDIAN,this.lenbuf.endian=egret.Endian.LITTLE_ENDIAN,this._arr.endian=egret.Endian.LITTLE_ENDIAN,this.sock=new egret.WebSocket,this.sock.type="webSocketTypeBinary",this.sock.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.sock.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.sock.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.sock.connect(t,e)},t.prototype.onSocketOpen=function(){Config.connectState=!0,this.handler.do_connect()},t.prototype.onSocketClose=function(){Config.connectState=!1,this.sock.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.sock.removeEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.sock.removeEventListener(egret.Event.CLOSE,this.onSocketClose,this),console.error("与服务器的链接断开"),this.handler.do_close()},t.prototype.sendProto=function(t){this.sock&&this.sock.connected&&(this.buf.position=0,this.buf.writeShort(t.S),t.encode(this.buf),this.lenbuf.position=0,this.lenbuf.writeShort(this.buf.position),this.sock.writeBytes(this.lenbuf,0,2),this.sock.writeBytes(this.buf,0,this.buf.position),this.sock.flush())},t.prototype.onReceiveMessage=function(){this.sock.readBytes(this._arr),this._arr.position=0;var t=(this._arr.readShort(),this._arr.readShort()),e=this.MessType.types[t];if(null!=e){var r=new e;r.decode(this._arr),this.handler.handle(r)}},t}();t.Connection=r,__reflect(r.prototype,"SocketManager.Connection");var o;t.getInstance=e}(SocketManager||(SocketManager={}));var GameScene=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.onEnter=function(){t.prototype.onEnter.call(this),this.addLayerAt(LayerManager.Game_Main,0)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(BaseScene);__reflect(GameScene.prototype,"GameScene");var LayerManager=function(){function t(){}return t}();LayerManager.Game_Bg=new BaseSpriteLayer,LayerManager.Game_Main=new BaseSpriteLayer,LayerManager.UI_Main=new BaseEuiLayer,LayerManager.UI_Popup=new BaseEuiLayer,LayerManager.UI_Message=new BaseEuiLayer,LayerManager.UI_Tips=new BaseEuiLayer,__reflect(LayerManager.prototype,"LayerManager");var SenceLoading=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.onEnter=function(){t.prototype.onEnter.call(this),this.addLayer(LayerManager.UI_Main),App.ViewManager.open(ViewConst.Loading)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(BaseScene);__reflect(SenceLoading.prototype,"SenceLoading");var SceneManager=function(t){function e(){var e=t.call(this)||this;return e._scenes={},e}return __extends(e,t),e.prototype.clear=function(){var t=this._scenes[this._currScene];t&&(t.onExit(),this._currScene=void 0),this._scenes={}},e.prototype.register=function(t,e){this._scenes[t]=e},e.prototype.runScene=function(t){var e=this._scenes[t];if(null==e)return void console.log("场景"+t+"不存在");var r=this._scenes[this._currScene];r&&r.onExit(),e.onEnter(),this._currScene=t},e.prototype.getCurrScene=function(){return this._currScene},e}(BaseClass);__reflect(SceneManager.prototype,"SceneManager");var UIScene=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.onEnter=function(){t.prototype.onEnter.call(this),this.addLayer(LayerManager.UI_Main),this.addLayer(LayerManager.UI_Popup),this.addLayer(LayerManager.UI_Message),this.addLayer(LayerManager.UI_Tips);var e=new eui.Rect;e.fillColor=7911743,e.percentHeight=100,e.percentWidth=100,LayerManager.UI_Main.addChild(e),App.ViewManager.open(ViewConst.Login)},e.prototype.onExit=function(){t.prototype.onExit.call(this)},e}(BaseScene);__reflect(UIScene.prototype,"UIScene");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,r,o){function n(t){e.call(o,t)}function i(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),r.call(o))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var CardTransFormUtil=function(){function t(){}return t.trasnFormCardIdWay1=function(t){var e=240&t;return e>=16?parseInt(((240&t)>>4)+""+(15&t)):15&t},t.getCardType=function(t){var e=240&t;return e>=16?(240&t)>>4:15&t},t.trasnFormCardIdWay2=function(t){return parseInt(t+"")},t.cardSort=function(e){for(var r=GlobalFunc.deepCopy(e),o=[],n=0;n<r.length;n++){var i=t.trasnFormCardIdWay2(r[n]);o.push(i)}var s=GlobalFunc.sortRule(GlobalFunc.NORMALIZE,"",o);
return s},t.startGetCard=function(e,r,o,n,i){var s=[];switch(t.zhuangjiaPos=e,t.num+=1,e){case data.Seat.North:s=[data.Seat.North,data.Seat.East,data.Seat.South,data.Seat.West];break;case data.Seat.East:s=[data.Seat.East,data.Seat.South,data.Seat.West,data.Seat.North];break;case data.Seat.South:s=[data.Seat.South,data.Seat.West,data.Seat.North,data.Seat.East];break;case data.Seat.West:s=[data.Seat.West,data.Seat.North,data.Seat.East,data.Seat.South]}for(var a=s.length+1,c=!1,h=1;a>h;h++)var p=egret.setTimeout(function(h,p){egret.clearTimeout(p);var u=s.shift();t.num>t.getCardNum&&h===a-1&&(c=!0),u===data.Seat.South?t.divideCard(u,r.splice(0,4),c,o,n,i):t.divideCard(u,[],c,o,n,i),!s.length&&t.num<=t.getCardNum&&h===a-1&&t.startGetCard(e,r,o,n,i)},this,500*h,h,p)},t.divideCard=function(e,r,o,n,i,s){if(e===data.Seat.South)i&&s&&i.call(s,{"final":!1,handCard:r});else{var a=0;a=t.num>t.getCardNum?t.zhuangjiaPos==e?2:1:4,i&&s&&i.call(s,{"final":!1,handCard:r,num:a,seat:e})}if(o)var c=egret.setTimeout(function(){egret.clearTimeout(c),t.num=0,t.overTurnThis(n,n,1,i,s)},this,300)},t.overTurnThis=function(t,e,r,o,n){var i=this;t.scaleX=0,e.scaleX=r,egret.Tween.get(e).to({scaleX:0},300,egret.Ease.circOut).call(function(){egret.Tween.get(t).to({scaleX:r},300,egret.Ease.circIn).call(function(){o&&n&&o.call(n,{"final":!0})},i)},this)},t}();CardTransFormUtil.NORTH=10001,CardTransFormUtil.SOUTH=10002,CardTransFormUtil.WEST=10003,CardTransFormUtil.EAST=10004,CardTransFormUtil.curDirection=0,CardTransFormUtil.cardDataArray=[1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,17,18,19,20,21,22,23,24,25,17,18,19,20,21,22,23,24,25,17,18,19,20,21,22,23,24,25,17,18,19,20,21,22,23,24,25,33,34,35,36,37,38,39,40,41,33,34,35,36,37,38,39,40,41,33,34,35,36,37,38,39,40,41,33,34,35,36,37,38,39,40,41],CardTransFormUtil.getCardNum=3,CardTransFormUtil.num=0,__reflect(CardTransFormUtil.prototype,"CardTransFormUtil");var Dictionary=function(){function t(){this.dict={},this.keyArr=[]}return t.prototype.add=function(t,e){this.findKey(t)?console.warn("字典中已经存在名为"+t+"的对象"):(this.dict[t]=e,this.keyArr.push(t))},t.prototype.remove=function(t){this.findKey(t)?(delete this.dict[t],this.keyArr.splice(this.keyArr.indexOf(t),1)):console.warn("字典中没有名为"+t+"的对象")},t.prototype.clear=function(){this.dict={},this.keyArr=[]},t.prototype.modify=function(t,e){this.findKey(t)?this.dict[t]=e:console.warn("字典中没有名为"+t+"的对象")},t.prototype.modifyKey=function(t,e,r){this.findKey(t)&&(this.remove(t),this.add(e,r))},t.prototype.hasKey=function(t){return this.findKey(t)},t.prototype.get=function(t){return this.findKey(t)?this.dict[t]:null},t.prototype.findKey=function(t){for(var e=!1,r=0;this.keyArr.length>r;r++)this.keyArr[r]==t&&(e=!0);return e},Object.defineProperty(t.prototype,"length",{get:function(){return this.keyArr.length},enumerable:!0,configurable:!0}),t}();__reflect(Dictionary.prototype,"Dictionary");var DisplayUtils=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createBitmap=function(t){var e=new egret.Bitmap,r=RES.getRes(t);return e.texture=r,e},e.prototype.createEuiImage=function(t){var e=new eui.Image,r=RES.getRes(t);return e.source=r,e},e.prototype.removeFromParent=function(t){null!=t.parent&&t.parent.removeChild(t)},e}(BaseClass);__reflect(DisplayUtils.prototype,"DisplayUtils");var Global;!function(t){function e(t,e,r,o){return void 0===e&&(e=null),void 0===r&&(r=!1),void 0===o&&(o=!1),new lcp.ChangeEvent(t,e,r,o)}function r(t,e,r,o){void 0===e&&(e=null),void 0===r&&(r=!1),void 0===o&&(o=!1);var n=new lcp.ChangeEvent(t,e,r,o);lcp.LListener.getInstance().dispatchEvent(n)}function o(t,e,r,o,n){void 0===o&&(o=!1),void 0===n&&(n=0),lcp.LListener.getInstance().addEventListener(t,e,r,o,n)}function n(t,e,r,o){void 0===o&&(o=!1),lcp.LListener.getInstance().removeEventListener(t,e,r,o)}t.Event=e,t.dispatchEvent=r,t.addEventListener=o,t.removeEventListener=n}(Global||(Global={}));var GlobalFunc;!function(t){function e(t){for(var e=[],r=0;r<t.length;r++){var o={};for(var n in t[r])o[n]=t[r][n];e.push(o)}return e}function r(e){var r=new Dictionary;for(var o in e.dict){var n=t.deepCopy(e.dict[o]);r.add(o,n)}return r}function o(t,e){void 0===e&&(e=1);var r=/(^\s+)|(\s+$)/g;r=/\s+/g;var o=t.replace(r,"");return o?!0:!1}function n(e,r,o){function n(t,e){var o,n;return""!=r?(o=t[r],n=e[r]):(o=t,n=e),o>n?i:n>o?-i:0}var i=1;return i=e===t.NORMALIZE?1:-1,o.sort(n)}function i(t){Object.keys(t);return t}function s(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1);var o=new Date(1e3*(t>0?t:-t)),n=o.getFullYear(),i=o.getDate(),s=o.getHours(),a=o.getMonth()+1,i=o.getDate(),c=o.getMinutes(),h=o.getSeconds(),p="",u="";return e?(p=n+"-"+(10>a?"0"+a:a)+"-"+(10>i?"0"+i:i)+"	",u=(10>s?"0"+s:s)+":"+(10>c?"0"+c:c)+":"+(10>h?"0"+h:h),p+u):(r?(s=Math.floor(t/3600),c=Math.floor(t%3600/60),h=Math.floor(t%3600%60),u=(10>s?"0"+s:s)+":"+(10>c?"0"+c:c)+":"+(10>h?"0"+h:h)):(i=Math.floor(t/24/60/60),s=Math.floor(t%86400/3600),c=Math.floor(t%86400%3600/60),u=i+"天"+s+"时"+c+"分"),u)}function a(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}t.NORMALIZE="normalize",t.REVERSE="reverse",t.deepCopy=e,t.deepCopyDict=r,t.checkTextSpace=o,t.sortRule=n,t.sortByKey=i,t.formatTime=s,t.guid=a}(GlobalFunc||(GlobalFunc={}));var lcp;!function(t){var e=function(){function t(){this.CLASS_NAME="LListener",null==this._dispatcher&&(this._dispatcher=new egret.EventDispatcher)}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.addEventListener=function(t,e,r,o,n){void 0===o&&(o=!1),void 0===n&&(n=0),this._dispatcher.addEventListener(t,e,r,o,n)},t.prototype.removeEventListener=function(t,e,r,o){void 0===o&&(o=!1),this._dispatcher.removeEventListener(t,e,r,o)},t.prototype.hasEventListener=function(t){return this._dispatcher.hasEventListener(t)},t.prototype.willTrigger=function(t){return this._dispatcher.willTrigger(t)},t.prototype.dispatchEvent=function(t){return this._dispatcher.dispatchEvent(t)},t.prototype.toString=function(){return this._dispatcher.toString()},t}();t.LListener=e,__reflect(e.prototype,"lcp.LListener")}(lcp||(lcp={}));var MessageCenter=function(t){function e(e){var r=t.call(this)||this;return r.type=e,r.dict={},r.eVec=new Array,r.lastRunTime=0,r}return __extends(e,t),e.prototype.clear=function(){this.dict={},this.eVec.splice(0)},e.prototype.addListener=function(t,e,r){var o=this.dict[t];null==o&&(o=new Array,this.dict[t]=o);var n=0,i=o.length;for(n;i>n;n++)if(o[n][0]==e&&o[n][1]==r)return;o.push([e,r])},e.prototype.removeListener=function(t,e,r){var o=this.dict[t];if(null!=o){var n=0,i=o.length;for(n;i>n;n++)if(o[n][0]==e&&o[n][1]==r){o.splice(n,1);break}0==o.length&&(this.dict[t]=null,delete this.dict[t])}},e.prototype.removeAll=function(t){for(var e=Object.keys(this.dict),r=0,o=e.length;o>r;r++){for(var n=e[r],i=this.dict[n],s=0;s<i.length;s++)i[s][1]==t&&(i.splice(s,1),s--);0==i.length&&(this.dict[n]=null,delete this.dict[n])}},e.prototype.dispatch=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(null!=this.dict[t]){var o=ObjectPool.pop("MessageVo");o.type=t,o.param=e,this.dealMsg(o)}},e.prototype.run=function(){var t=egret.getTimer(),e=t-this.lastRunTime>100;if(this.lastRunTime=t,e)for(;this.eVec.length>0;)this.dealMsg(this.eVec.shift());else for(;this.eVec.length>0&&(this.dealMsg(this.eVec.shift()),!(egret.getTimer()-t>5)););},e.prototype.dealMsg=function(t){for(var e=this.dict[t.type],r=0,o=e.length,n=null;o>r;)n=e[r],n[0].apply(n[1],t.param),e.length!=o&&(o=e.length,r--),r++;t.dispose(),ObjectPool.push(t)},e}(BaseClass);__reflect(MessageCenter.prototype,"MessageCenter");var MessageVo=function(){function t(){}return t.prototype.dispose=function(){this.type=null,this.param=null},t}();__reflect(MessageVo.prototype,"MessageVo");var MoviePool=function(){function t(){this.dict=new Dictionary}return t.getInstance=function(){return t.instance?t.instance:t.instance=new t},t.prototype.getMc=function(t,e){void 0===e&&(e=!1);var r;return this.dict.hasKey(t)?r=e?this.createMc(t):this.dict.get(t):(r=this.createMc(t),this.dict.add(t,r)),r},t.prototype.createMc=function(t){var e=RES.getRes(t+"_json"),r=RES.getRes(t+"_png"),o=new egret.MovieClipDataFactory(e,r),n=new egret.MovieClip(o.generateMovieClipData(t));return n},t}();__reflect(MoviePool.prototype,"MoviePool");var ObjectPool=function(){function t(){this._objs=new Array}return t.prototype.pushObj=function(t){this._objs.push(t)},t.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},t.prototype.clear=function(){for(;this._objs.length>0;)this._objs.pop()},t.pop=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t._content[e]||(t._content[e]=[]);var n=t._content[e];if(n.length)return n.pop();var i,s=egret.getDefinitionByName(e),a=r.length;return 0==a?i=new s:1==a?i=new s(r[0]):2==a?i=new s(r[0],r[1]):3==a?i=new s(r[0],r[1],r[2]):4==a?i=new s(r[0],r[1],r[2],r[3]):5==a&&(i=new s(r[0],r[1],r[2],r[3],r[4])),i.ObjectPoolKey=e,i},t.popWithExtraKey=function(e,r){t._content[e]||(t._content[e]=[]);var o,n=t._content[e];if(n.length)for(var i=0;i<n.length;i++)if(n[i].extraKey==r){o=n[i],n.splice(i,1);break}if(!o){var s=egret.getDefinitionByName(e);o=new s(r),o.extraKey=r,o.ObjectPoolKey=e}return o},t.push=function(e){if(null==e)return!1;var r=e.ObjectPoolKey;return t._content[r]?(t._content[r].push(e),!0):!1},t.clear=function(){t._content={}},t.clearClass=function(e,r){void 0===r&&(r=null);for(var o=t._content[e];o&&o.length;){var n=o.pop();r&&n[r](),n=null}t._content[e]=null,delete t._content[e]},t.dealFunc=function(e,r){var o=t._content[e];if(null!=o){var n=0,i=o.length;for(n;i>n;n++)o[n][r]()}},t}();ObjectPool._content={},__reflect(ObjectPool.prototype,"ObjectPool");var ResourceUtils=function(t){function e(){var e=t.call(this)||this;return e._groupIndex=0,e._configs=new Array,e._groups={},RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceLoadProgress,e),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onResourceLoadError,e),e}return __extends(e,t),e.prototype.addConfig=function(t,e){this._configs.push([t,e])},e.prototype.loadConfig=function(t,e){this._onConfigComplete=t,this._onConfigCompleteTarget=e,this.loadNextConfig()},e.prototype.loadNextConfig=function(){if(0==this._configs.length)return this._onConfigComplete.call(this._onConfigCompleteTarget),this._onConfigComplete=null,void(this._onConfigCompleteTarget=null);var t=this._configs.shift();RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),RES.loadConfig(t[0],t[1])},e.prototype.onConfigCompleteHandle=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),this.loadNextConfig()},e.prototype.loadGroup=function(t,e,r,o){this._groups[t]=[e,r,o],RES.loadGroup(t)},e.prototype.loadGroups=function(t,e,r,o,n){RES.createGroup(t,e,!0),this.loadGroup(t,r,o,n)},e.prototype.pilfererLoadGroup=function(t,e){void 0===e&&(e=null);var r="pilferer_"+t;e||(e=[t]),RES.createGroup(r,e,!0),RES.loadGroup(r,-1)},e.prototype.onResourceLoadComplete=function(t){var e=t.groupName;if(this._groups[e]){var r=this._groups[e][0],o=this._groups[e][2];null!=r&&r.call(o),this._groups[e]=null,delete this._groups[e]}},e.prototype.onResourceLoadProgress=function(t){var e=t.groupName;if(this._groups[e]){var r=this._groups[e][1],o=this._groups[e][2];null!=r&&r.call(o,t.itemsLoaded,t.itemsTotal)}},e.prototype.onResourceLoadError=function(t){console.log(t.groupName+"资源组有资源加载失败"),this.onResourceLoadComplete(t)},e.prototype.loadResource=function(t,e,r,o,n){void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===n&&(n=null);var i=t.concat(e),s="loadGroup"+this._groupIndex++;RES.createGroup(s,i,!0),this._groups[s]=[r,o,n],RES.loadGroup(s)},e}(BaseClass);__reflect(ResourceUtils.prototype,"ResourceUtils");var SoundUtils=function(){function t(){this._effect=new egret.Sound}return t.Shared=function(){return null==t.shared&&(t.shared=new t),t.shared},t.prototype.loadEffect=function(t){this._effect.load(t)},t.prototype.PlayBGM=function(){this.IsMusic&&(this._bgm_channel=this._bgm.play(0,0))},t.prototype.StopBGM=function(){null!=this._bgm_channel&&this._bgm_channel.stop()},t.prototype.PlayClick=function(){this.IsSound&&this._click.play(0,1)},t.prototype.PlayRight=function(){this.IsSound&&this._right.play(0,1)},t.prototype.PlayWrong=function(){this.IsSound&&this._wrong.play(0,1)},Object.defineProperty(t.prototype,"IsMusic",{get:function(){var t=egret.localStorage.getItem("ismusic");return null==t||""==t?!0:"1"==t},set:function(t){t?(egret.localStorage.setItem("ismusic","1"),this.PlayBGM()):(egret.localStorage.setItem("ismusic","0"),this.StopBGM())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsSound",{get:function(){var t=egret.localStorage.getItem("isSound");return null==t||""==t?!0:"1"==t},set:function(t){t?egret.localStorage.setItem("isSound","1"):egret.localStorage.setItem("isSound","0")},enumerable:!0,configurable:!0}),t}();__reflect(SoundUtils.prototype,"SoundUtils");var StageUtils=function(t){function e(){var r=t.call(this)||this;return null==e._uiStage&&(e._uiStage=new eui.UILayer,e._uiStage.percentHeight=100,e._uiStage.percentWidth=100,e._uiStage.touchEnabled=!1,r.getStage().addChild(e._uiStage)),r}return __extends(e,t),e.prototype.getHeight=function(){return this.getStage().stageHeight},e.prototype.getWidth=function(){return this.getStage().stageWidth},e.prototype.setTouchChildren=function(t){this.getStage().touchChildren=t},e.prototype.setMaxTouches=function(t){this.getStage().maxTouches=t},e.prototype.setFrameRate=function(t){this.getStage().frameRate=t},e.prototype.setScaleMode=function(t){this.getStage().scaleMode=t},e.prototype.getStage=function(){return egret.MainContext.instance.stage},e.prototype.getUIStage=function(){return e._uiStage},e}(BaseClass);__reflect(StageUtils.prototype,"StageUtils");